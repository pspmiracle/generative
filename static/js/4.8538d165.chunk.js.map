{"version":3,"sources":["../node_modules/canvas-sketch-util/shader.js","../node_modules/parse-color/index.js","../node_modules/parse-color/node_modules/color-convert/index.js","../node_modules/parse-color/node_modules/color-convert/conversions.js","../node_modules/canvas-sketch-util/lib/wrap.js","../node_modules/canvas-sketch-util/math.js","../node_modules/vec2-copy/index.js","../node_modules/almost-equal/almost_equal.js","../node_modules/canvas-sketch-util/index.js","../node_modules/abs-svg-path/index.js","../node_modules/clone/clone.js","../node_modules/canvas-sketch-util/lib/vec2.js","../node_modules/canvas-sketch-util/geometry.js","../node_modules/canvas-sketch-util/lib/hsl.js","../node_modules/canvas-sketch-util/lib/hex-to-rgba.js","../node_modules/canvas-sketch-util/lib/rgba-to-hex.js","../node_modules/canvas-sketch-util/penplot.js","../node_modules/convert-length/convert-length.js","../node_modules/svg-path-contours/index.js","../node_modules/adaptive-bezier-curve/index.js","../node_modules/adaptive-bezier-curve/function.js","../node_modules/svg-path-contours/node_modules/normalize-svg-path/index.js","../node_modules/parse-svg-path/index.js","../node_modules/normalize-svg-path/index.js","../node_modules/svg-arc-to-cubic-bezier/modules/index.js","../node_modules/canvas-sketch-util/lib/optimize-penplot-paths.js","../node_modules/buffer/index.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/isarray/index.js","../node_modules/lineclip/index.js","../node_modules/array-almost-equal/index.js","../node_modules/an-array/index.js","../node_modules/array-almost-equal/node_modules/almost-equal/almost_equal.js","../node_modules/canvas-sketch-util/lib/clip/clip-segment-to-circle.js","../node_modules/canvas-sketch-util/lib/clip/clip-line-to-circle.js","../node_modules/canvas-sketch-util/color.js","../node_modules/canvas-sketch-util/lib/css-color.js","../node_modules/float-hsl2rgb/index.js","../node_modules/float-rgb2hsl/index.js","../node_modules/canvas-sketch-util/lib/relative-luminance.js","../node_modules/d3-path/src/path.js","../node_modules/d3-path/src/index.js"],"names":["createRegl","require","createQuad","parseColor","defined","isTextureLike","data","Array","isArray","module","exports","opt","gl","Error","reglOpts","extensions","optionalExtensions","profile","onDone","drawQuadCommand","regl","quad","textureMap","Map","uniformsMap","uniforms","Object","assign","keys","forEach","key","value","state","props","batchID","result","call","has","prevTex","get","texture","set","scissor","enable","box","x","prop","y","width","height","frag","join","vert","blend","func","srcRGB","srcAlpha","dstRGB","dstAlpha","undefined","attributes","position","positions","elements","cells","err","handleError","clearColor","parsed","rgb","slice","map","n","length","clearAlpha","clear","concat","render","poll","color","depth","stencil","drawQuad","flush","unload","destroy","console","warn","test","message","convert","cstr","m","conv","parts","alpha","exec","name","size","base","replace","split","i","parseFloat","push","filter","Boolean","parseInt","keyword","res","hsl","hsv","cmyk","hex","e","s","toString","rgba","hsla","hsva","cmyka","conversions","Converter","arg","prototype","arguments","pair","from","to","val","Math","round","this","convs","routeSpace","space","args","values","getValues","setValues","vals","fspace","rgb2hsl","h","l","r","g","b","min","max","delta","rgb2hsv","rgb2hwb","rgb2cmyk","k","rgb2keyword","reverseKeywords","JSON","stringify","rgb2xyz","pow","rgb2lab","xyz","z","hsl2rgb","t1","t2","t3","hsv2rgb","v","hi","floor","f","p","q","t","hwb2rgb","hwb","wh","bl","ratio","cmyk2rgb","c","xyz2rgb","xyz2lab","lab2xyz","lab","y2","a","lab2lch","atan2","PI","sqrt","lab2rgb","lch2lab","lch","hr","cos","sin","keyword2rgb","cssKeywords","rgb2lch","hsl2hsv","hsl2hwb","hsl2cmyk","hsl2keyword","hsv2hsl","sl","hsv2hwb","hsv2cmyk","hsv2keyword","hwb2hsl","hwb2hsv","hwb2cmyk","hwb2keyword","cmyk2hsl","cmyk2hsv","cmyk2hwb","cmyk2keyword","keyword2hsl","keyword2hsv","keyword2hwb","keyword2cmyk","keyword2lab","keyword2xyz","xyz2lch","lch2xyz","lch2rgb","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","TypeError","cycle","wrap","EPSILON","Number","clamp","lerp","inverseLerp","abs","toFinite","defaultValue","isFinite","expandVector","dims","scalar","out","lerpArray","newArray","initialValue","mod","damp","lambda","dt","exp","fract","sign","degToRad","radToDeg","pingPong","linspace","opts","endpoint","offset","_","lerpFrames","len","whole","frame","nextFrame","clamp01","smoothstep","dampArray","mapRange","inputMin","inputMax","outputMin","outputMax","outVal","expand2D","expand3D","expand4D","almostEqual","absoluteError","relativeError","d","DBL_EPSILON","FLT_EPSILON","random","math","penplot","geometry","shader","path","startX","startY","seg","type","command","toUpperCase","clone","_instanceof","obj","nativeMap","nativeSet","nativePromise","Set","Promise","parent","circular","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","Infinity","_clone","child","proto","resolve","reject","then","__isArray","__isRegExp","RegExp","source","__getRegExpFlags","lastIndex","__isDate","Date","getTime","isBuffer","allocUnsafe","copy","create","getPrototypeOf","index","indexOf","keyChild","valueChild","entryChild","add","attrs","getOwnPropertyDescriptor","getOwnPropertySymbols","symbols","symbol","descriptor","enumerable","defineProperty","allPropertyNames","getOwnPropertyNames","propertyName","__objToStr","o","re","flags","global","ignoreCase","multiline","clonePrototype","squaredDistance","pt1","pt2","dx","dy","lineclip","arrayAlmostEqual","arePointsCollinear","point0","point1","point2","x0","y0","x1","y1","x2","removeDuplicatePoints","lastPoint","newPath","curPoint","removeCollinearPoints","remainingPoints","p0","p1","p2","collinear","splice","shift","clipSegmentToCircle","clipLineToCircle","clipPolylinesToBox","polylines","bbox","border","closeLines","line","polygon","lines","polyline","reduce","createHatchLines","bounds","angle","spacing","xmin","ymin","xmax","ymax","w","rotAngle","ca","sa","cx","cy","getBounds","points","lo","j","floatHSL2RGB","floatRGB2HSL","RGBAToHSLA","floatHSL","HSLAToRGBA","hue","floatRGB","str","toLowerCase","repeat","num","alphaParam","d3","svgPathContours","svgPathParse","svgPathAbs","svgPathArcs","optimizer","pathsToSVGPaths","inputs","svgPath","convertToSVGPath","pathsToPolylines","scale","curveResolution","units","contours","eachPath","feature","commands","subContour","point","pathsToSVG","convertOptions","viewUnits","roundPixel","precision","pixelsPerInch","optimize","optimizeOpts","sort","merge","removeDuplicates","removeCollinear","shouldSort","shouldMerge","shouldRemoveDuplicate","shouldRemoveCollinear","mergeThreshold","svgPaths","viewWidth","viewHeight","fillStyle","strokeStyle","lineWidth","lineJoin","lineCap","pathElements","toAttrList","attr","renderPaths","context","clearRect","background","fillRect","foreground","beginPath","drawSVGPath","lineTo","stroke","canvas","extension","input","isEmpty","isPath","isPolyline","polylineToSVGPath","cb","moveTo","bezierCurveTo","every","createPath","fn","quadraticCurveTo","_x1","_y1","apply","polylinesToSVG","renderPolylines","system","factor","cm","mm","pt","pc","in","ft","anchors","metric","unit","imperial","fromUnit","toUnit","toFactor","fromFactor","isToPixel","fromUnitData","toUnitData","anchor","decimals","bezier","norm","tmp1","tmp2","tmp3","svg","paths","pen","segment","self","start","bezierTo","vec2","RECURSION_LIMIT","recursion","epsilon","PATH_DISTANCE_EPSILON","pathEpsilon","curve_angle_tolerance_epsilon","angleEpsilon","m_angle_tolerance","angleTolerance","m_cusp_limit","cuspLimit","c1","c2","end","distanceTolerance","x3","y3","x4","y4","recursive","level","pi","x12","y12","x23","y23","x34","y34","x123","y123","x234","y234","x1234","y1234","da1","da2","d2","a23","begin","Ï€","_120","radians","quadratic","arc","rx","ry","large_arc_flag","sweep_flag","f1","f2","xy","rotate","rx2","ry2","asin","toFixed","f2old","x2old","y2old","hx","hy","curve","rot","rad","degress","prev","bezierX","bezierY","quadX","quadY","unshift","numbers","match","number","parseValues","curves","arcToCurve","px","py","xAxisRotation","largeArcFlag","sweepFlag","_slicedToArray","arr","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","sliceIterator","TAU","mapToEllipse","_ref","cosphi","sinphi","centerx","centery","approxUnitArc","ang1","ang2","vectorAngle","ux","uy","vx","vy","dot","acos","arcToBezier","_ref2","_ref2$xAxisRotation","_ref2$largeArcFlag","_ref2$sweepFlag","pxp","pyp","_getArcCenter","rxsq","rysq","pxpsq","pypsq","radicant","centerxp","centeryp","vx1","vy1","vx2","vy2","getArcCenter","_getArcCenter2","segments","ceil","_mapToEllipse","_mapToEllipse2","_mapToEllipse3","mergePaths","path1Idx","path2Idx","minIdx","maxIdx","path1","path2","mergedPath","newPaths","lastPath","curPt","closest","firstPt","lastPt","distanceToFirst","distanceToLast","distance","idx","reverse","closestPath","mergeThrehsold","mergeThrehsoldSq","curPath","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","__proto__","encodingOrOffset","ArrayBuffer","array","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","fromString","checked","buffer","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","substr","utf8Write","blitBuffer","asciiWrite","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","fromByteArray","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","list","pos","swap16","swap32","swap64","equals","inspect","target","thisStart","thisEnd","thisCopy","targetCopy","includes","toJSON","ret","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","leadSurrogate","toByteArray","trim","stringtrim","base64clean","src","dst","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","log","LN2","codeB","lastCode","codeA","bitCode","part","intersect","edge","prevInside","inside","almost","absoluteTolerance","relativeTolerance","a0","b0","BYTES_PER_ELEMENT","pointInCircle","radius","layDistance","projectPoint","srcx","srcy","destx","desty","dist","circle","circleRadius","hits","closestPoint","p1InCircle","p2InCircle","closestPointOnLineFromPoint","hitA","hitB","closestPointOnSegmentFromPoint","sqr","det","sqrtDet","cssColor","names","rgbLuminance","HSLUtil","hexToRGBA","RGBAToHex","parse","style","relativeLuminance","contrastRatio","colorA","colorB","offsetHSL","opacity","bg","fg","c0","parseStyle","rgbStyle","hslStyle","adjustGamma","rsrgb","gsrgb","bsrgb","tau","tauEpsilon","Path","_x0","_y0","constructor","closePath","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","a1","ccw","cw","da","rect"],"mappings":"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","file":"static/js/4.8538d165.chunk.js","sourcesContent":["var createRegl = require('regl');\nvar createQuad = require('primitive-quad');\nvar parseColor = require('parse-color');\nvar defined = require('defined');\n\nmodule.exports = createShader;\n\nfunction createShader (opt) {\n  opt = opt || {};\n  if (!opt.gl) {\n    throw new Error('Must specify { context: \"webgl\" } in sketch settings, or a WebGL-enabled canvas');\n  }\n\n  var gl = opt.gl;\n  var reglOpts = { gl: gl };\n\n  // regl is strict on what options you pass in\n  if (typeof opt.extensions !== 'undefined') reglOpts.extensions = opt.extensions;\n  if (typeof opt.optionalExtensions !== 'undefined') reglOpts.optionalExtensions = opt.optionalExtensions;\n  if (typeof opt.profile !== 'undefined') reglOpts.profile = opt.profile;\n  if (typeof opt.onDone !== 'undefined') reglOpts.onDone = opt.onDone;\n\n  // Create regl for handling GL stuff\n  var regl = createRegl(reglOpts);\n\n  // A mesh for a flat plane\n  var quad = createQuad();\n\n  var textureMap = new Map();\n\n  // Wire up user uniforms nicely\n  var uniformsMap = opt.uniforms || {};\n  var uniforms = Object.assign({}, uniformsMap);\n  Object.keys(uniformsMap).forEach(function (key) {\n    var value = uniformsMap[key];\n    if (typeof value === 'function') {\n      uniforms[key] = function (state, props, batchID) {\n        var result = value.call(uniformsMap, props, batchID);\n        // If user is using a function to wrap an image,\n        // then we need to make sure we re-upload to same GL texture\n        if (isTextureLike(result)) {\n          if (textureMap.has(value)) {\n            // Texture is already created, re-upload\n            var prevTex = textureMap.get(value);\n            prevTex(result);\n\n            // Return the texture\n            result = prevTex;\n          } else {\n            // Creating the texture for the first time\n            var texture = regl.texture(result);\n            textureMap.set(value, texture);\n\n            // Return the texture, not the image\n            result = texture;\n          }\n        }\n        return result;\n      };\n    } else if (isTextureLike(value)) {\n      uniforms[key] = regl.texture(value);\n    } else {\n      uniforms[key] = value;\n    }\n  });\n\n  // Get the drawing command\n  var drawQuadCommand;\n  try {\n    drawQuadCommand = createDrawQuad();\n  } catch (err) {\n    handleError(err);\n  }\n\n  // Nicely get a clear color for the canvas\n  var clearColor = defined(opt.clearColor, 'black');\n  if (typeof clearColor === 'string') {\n    var parsed = parseColor(clearColor);\n    if (!parsed.rgb) {\n      throw new Error('Error parsing { clearColor } color string \"' + clearColor + '\"');\n    }\n    clearColor = parsed.rgb.slice(0, 3).map(function (n) {\n      return n / 255;\n    });\n  } else if (clearColor && (!Array.isArray(clearColor) || clearColor.length < 3)) {\n    throw new Error('Error with { clearColor } option, must be a string or [ r, g, b ] float array');\n  }\n\n  var clearAlpha = defined(opt.clearAlpha, 1);\n  var clear = clearColor ? clearColor.concat([ clearAlpha || 0 ]) : false;\n\n  // Return a renderer object\n  return {\n    render: function (props) {\n      // On each tick, update regl timers and sizes\n      regl.poll();\n\n      // Clear backbuffer with color\n      if (clear) {\n        regl.clear({\n          color: clear,\n          depth: 1,\n          stencil: 0\n        });\n      }\n\n      // Submit draw command\n      drawQuad(props);\n\n      // Flush pending GL calls for this frame\n      gl.flush();\n    },\n    regl: regl,\n    drawQuad: drawQuad,\n    unload: function () {\n      // Remove GL texture mappings\n      textureMap.clear();\n      // Unload the current regl instance\n      // TODO: We should probably also destroy textures created from this module!\n      regl.destroy();\n    }\n  };\n\n  // A user-friendly draw command that spits out errors\n  function drawQuad (props) {\n    props = props || {};\n    // Draw generative / shader art\n    if (drawQuadCommand) {\n      try {\n        drawQuadCommand(props);\n      } catch (err) {\n        if (handleError(err)) {\n          if (props == null) {\n            console.warn('Warning: shader.render() is not called with any \"props\" parameter');\n          }\n        }\n      }\n    }\n  }\n\n  // Draw command\n  function createDrawQuad () {\n    return regl({\n      scissor: opt.scissor ? {\n        enable: true,\n        box: {\n          x: regl.prop('scissorX'),\n          y: regl.prop('scissorY'),\n          width: regl.prop('scissorWidth'),\n          height: regl.prop('scissorHeight')\n        }\n      } : false,\n      // Pass down props from javascript\n      uniforms: uniforms,\n      // Fall back to a simple fragment shader\n      frag: opt.frag || [\n        'precision highp float;',\n        '',\n        'void main () {',\n        '  gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);',\n        '}'\n      ].join('\\n'),\n      // Fall back to a simple vertex shader\n      vert: opt.vert || [\n        'precision highp float;',\n        'attribute vec3 position;',\n        'varying vec2 vUv;',\n        '',\n        'void main () {',\n        '  gl_Position = vec4(position.xyz, 1.0);',\n        '  vUv = gl_Position.xy * 0.5 + 0.5;',\n        '}'\n      ].join('\\n'),\n      // Setup transparency blending\n      blend: opt.blend !== false ? {\n        enable: true,\n        func: {\n          srcRGB: 'src alpha',\n          srcAlpha: 1,\n          dstRGB: 'one minus src alpha',\n          dstAlpha: 1\n        }\n      } : undefined,\n      // Send mesh vertex attributes to shader\n      attributes: {\n        position: quad.positions\n      },\n      // The indices for the quad mesh\n      elements: quad.cells\n    });\n  }\n\n  function handleError (err) {\n    if (/^\\(regl\\)/.test(err.message)) {\n      // Regl already logs a message to the console :\\\n      // so let's just avoid re-printing the same thing\n      return true;\n    } else {\n      throw err;\n    }\n  }\n}\n\nfunction isTextureLike (data) {\n  return data && !Array.isArray(data) && typeof data === 'object';\n}\n","var convert = require('color-convert');\n\nmodule.exports = function (cstr) {\n    var m, conv, parts, alpha;\n    if (m = /^((?:rgb|hs[lv]|cmyk|xyz|lab)a?)\\s*\\(([^\\)]*)\\)/.exec(cstr)) {\n        var name = m[1];\n        var base = name.replace(/a$/, '');\n        var size = base === 'cmyk' ? 4 : 3;\n        conv = convert[base];\n        \n        parts = m[2].replace(/^\\s+|\\s+$/g, '')\n            .split(/\\s*,\\s*/)\n            .map(function (x, i) {\n                if (/%$/.test(x) && i === size) {\n                    return parseFloat(x) / 100;\n                }\n                else if (/%$/.test(x)) {\n                    return parseFloat(x);\n                }\n                return parseFloat(x);\n            })\n        ;\n        if (name === base) parts.push(1);\n        alpha = parts[size] === undefined ? 1 : parts[size];\n        parts = parts.slice(0, size);\n        \n        conv[base] = function () { return parts };\n    }\n    else if (/^#[A-Fa-f0-9]+$/.test(cstr)) {\n        var base = cstr.replace(/^#/,'');\n        var size = base.length;\n        conv = convert.rgb;\n        parts = base.split(size === 3 ? /(.)/ : /(..)/);\n        parts = parts.filter(Boolean)\n            .map(function (x) {\n                if (size === 3) {\n                    return parseInt(x + x, 16);\n                }\n                else {\n                    return parseInt(x, 16)\n                }\n            })\n        ;\n        alpha = 1;\n        conv.rgb = function () { return parts };\n        if (!parts[0]) parts[0] = 0;\n        if (!parts[1]) parts[1] = 0;\n        if (!parts[2]) parts[2] = 0;\n    }\n    else {\n        conv = convert.keyword;\n        conv.keyword = function () { return cstr };\n        parts = cstr;\n        alpha = 1;\n    }\n    \n    var res = {\n        rgb: undefined,\n        hsl: undefined,\n        hsv: undefined,\n        cmyk: undefined,\n        keyword: undefined,\n        hex: undefined\n    };\n    try { res.rgb = conv.rgb(parts) } catch (e) {}\n    try { res.hsl = conv.hsl(parts) } catch (e) {}\n    try { res.hsv = conv.hsv(parts) } catch (e) {}\n    try { res.cmyk = conv.cmyk(parts) } catch (e) {}\n    try { res.keyword = conv.keyword(parts) } catch (e) {}\n    \n    if (res.rgb) res.hex = '#' + res.rgb.map(function (x) {\n        var s = x.toString(16);\n        if (s.length === 1) return '0' + s;\n        return s;\n    }).join('');\n    \n    if (res.rgb) res.rgba = res.rgb.concat(alpha);\n    if (res.hsl) res.hsla = res.hsl.concat(alpha);\n    if (res.hsv) res.hsva = res.hsv.concat(alpha);\n    if (res.cmyk) res.cmyka = res.cmyk.concat(alpha);\n    \n    return res;\n};\n","var conversions = require(\"./conversions\");\n\nvar convert = function() {\n   return new Converter();\n}\n\nfor (var func in conversions) {\n  // export Raw versions\n  convert[func + \"Raw\"] =  (function(func) {\n    // accept array or plain args\n    return function(arg) {\n      if (typeof arg == \"number\")\n        arg = Array.prototype.slice.call(arguments);\n      return conversions[func](arg);\n    }\n  })(func);\n\n  var pair = /(\\w+)2(\\w+)/.exec(func),\n      from = pair[1],\n      to = pair[2];\n\n  // export rgb2hsl and [\"rgb\"][\"hsl\"]\n  convert[from] = convert[from] || {};\n\n  convert[from][to] = convert[func] = (function(func) { \n    return function(arg) {\n      if (typeof arg == \"number\")\n        arg = Array.prototype.slice.call(arguments);\n      \n      var val = conversions[func](arg);\n      if (typeof val == \"string\" || val === undefined)\n        return val; // keyword\n\n      for (var i = 0; i < val.length; i++)\n        val[i] = Math.round(val[i]);\n      return val;\n    }\n  })(func);\n}\n\n\n/* Converter does lazy conversion and caching */\nvar Converter = function() {\n   this.convs = {};\n};\n\n/* Either get the values for a space or\n  set the values for a space, depending on args */\nConverter.prototype.routeSpace = function(space, args) {\n   var values = args[0];\n   if (values === undefined) {\n      // color.rgb()\n      return this.getValues(space);\n   }\n   // color.rgb(10, 10, 10)\n   if (typeof values == \"number\") {\n      values = Array.prototype.slice.call(args);        \n   }\n\n   return this.setValues(space, values);\n};\n  \n/* Set the values for a space, invalidating cache */\nConverter.prototype.setValues = function(space, values) {\n   this.space = space;\n   this.convs = {};\n   this.convs[space] = values;\n   return this;\n};\n\n/* Get the values for a space. If there's already\n  a conversion for the space, fetch it, otherwise\n  compute it */\nConverter.prototype.getValues = function(space) {\n   var vals = this.convs[space];\n   if (!vals) {\n      var fspace = this.space,\n          from = this.convs[fspace];\n      vals = convert[fspace][space](from);\n\n      this.convs[space] = vals;\n   }\n  return vals;\n};\n\n[\"rgb\", \"hsl\", \"hsv\", \"cmyk\", \"keyword\"].forEach(function(space) {\n   Converter.prototype[space] = function(vals) {\n      return this.routeSpace(space, arguments);\n   }\n});\n\nmodule.exports = convert;","/* MIT license */\n\nmodule.exports = {\n  rgb2hsl: rgb2hsl,\n  rgb2hsv: rgb2hsv,\n  rgb2hwb: rgb2hwb,\n  rgb2cmyk: rgb2cmyk,\n  rgb2keyword: rgb2keyword,\n  rgb2xyz: rgb2xyz,\n  rgb2lab: rgb2lab,\n  rgb2lch: rgb2lch,\n\n  hsl2rgb: hsl2rgb,\n  hsl2hsv: hsl2hsv,\n  hsl2hwb: hsl2hwb,\n  hsl2cmyk: hsl2cmyk,\n  hsl2keyword: hsl2keyword,\n\n  hsv2rgb: hsv2rgb,\n  hsv2hsl: hsv2hsl,\n  hsv2hwb: hsv2hwb,\n  hsv2cmyk: hsv2cmyk,\n  hsv2keyword: hsv2keyword,\n\n  hwb2rgb: hwb2rgb,\n  hwb2hsl: hwb2hsl,\n  hwb2hsv: hwb2hsv,\n  hwb2cmyk: hwb2cmyk,\n  hwb2keyword: hwb2keyword,\n\n  cmyk2rgb: cmyk2rgb,\n  cmyk2hsl: cmyk2hsl,\n  cmyk2hsv: cmyk2hsv,\n  cmyk2hwb: cmyk2hwb,\n  cmyk2keyword: cmyk2keyword,\n\n  keyword2rgb: keyword2rgb,\n  keyword2hsl: keyword2hsl,\n  keyword2hsv: keyword2hsv,\n  keyword2hwb: keyword2hwb,\n  keyword2cmyk: keyword2cmyk,\n  keyword2lab: keyword2lab,\n  keyword2xyz: keyword2xyz,\n\n  xyz2rgb: xyz2rgb,\n  xyz2lab: xyz2lab,\n  xyz2lch: xyz2lch,\n\n  lab2xyz: lab2xyz,\n  lab2rgb: lab2rgb,\n  lab2lch: lab2lch,\n\n  lch2lab: lch2lab,\n  lch2xyz: lch2xyz,\n  lch2rgb: lch2rgb\n}\n\n\nfunction rgb2hsl(rgb) {\n  var r = rgb[0]/255,\n      g = rgb[1]/255,\n      b = rgb[2]/255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      delta = max - min,\n      h, s, l;\n\n  if (max == min)\n    h = 0;\n  else if (r == max)\n    h = (g - b) / delta;\n  else if (g == max)\n    h = 2 + (b - r) / delta;\n  else if (b == max)\n    h = 4 + (r - g)/ delta;\n\n  h = Math.min(h * 60, 360);\n\n  if (h < 0)\n    h += 360;\n\n  l = (min + max) / 2;\n\n  if (max == min)\n    s = 0;\n  else if (l <= 0.5)\n    s = delta / (max + min);\n  else\n    s = delta / (2 - max - min);\n\n  return [h, s * 100, l * 100];\n}\n\nfunction rgb2hsv(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2],\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      delta = max - min,\n      h, s, v;\n\n  if (max == 0)\n    s = 0;\n  else\n    s = (delta/max * 1000)/10;\n\n  if (max == min)\n    h = 0;\n  else if (r == max)\n    h = (g - b) / delta;\n  else if (g == max)\n    h = 2 + (b - r) / delta;\n  else if (b == max)\n    h = 4 + (r - g) / delta;\n\n  h = Math.min(h * 60, 360);\n\n  if (h < 0)\n    h += 360;\n\n  v = ((max / 255) * 1000) / 10;\n\n  return [h, s, v];\n}\n\nfunction rgb2hwb(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2],\n      h = rgb2hsl(rgb)[0],\n      w = 1/255 * Math.min(r, Math.min(g, b)),\n      b = 1 - 1/255 * Math.max(r, Math.max(g, b));\n\n  return [h, w * 100, b * 100];\n}\n\nfunction rgb2cmyk(rgb) {\n  var r = rgb[0] / 255,\n      g = rgb[1] / 255,\n      b = rgb[2] / 255,\n      c, m, y, k;\n\n  k = Math.min(1 - r, 1 - g, 1 - b);\n  c = (1 - r - k) / (1 - k) || 0;\n  m = (1 - g - k) / (1 - k) || 0;\n  y = (1 - b - k) / (1 - k) || 0;\n  return [c * 100, m * 100, y * 100, k * 100];\n}\n\nfunction rgb2keyword(rgb) {\n  return reverseKeywords[JSON.stringify(rgb)];\n}\n\nfunction rgb2xyz(rgb) {\n  var r = rgb[0] / 255,\n      g = rgb[1] / 255,\n      b = rgb[2] / 255;\n\n  // assume sRGB\n  r = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n  g = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n  b = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n  var x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n  var y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n  var z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n  return [x * 100, y *100, z * 100];\n}\n\nfunction rgb2lab(rgb) {\n  var xyz = rgb2xyz(rgb),\n        x = xyz[0],\n        y = xyz[1],\n        z = xyz[2],\n        l, a, b;\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? Math.pow(x, 1/3) : (7.787 * x) + (16 / 116);\n  y = y > 0.008856 ? Math.pow(y, 1/3) : (7.787 * y) + (16 / 116);\n  z = z > 0.008856 ? Math.pow(z, 1/3) : (7.787 * z) + (16 / 116);\n\n  l = (116 * y) - 16;\n  a = 500 * (x - y);\n  b = 200 * (y - z);\n\n  return [l, a, b];\n}\n\nfunction rgb2lch(args) {\n  return lab2lch(rgb2lab(args));\n}\n\nfunction hsl2rgb(hsl) {\n  var h = hsl[0] / 360,\n      s = hsl[1] / 100,\n      l = hsl[2] / 100,\n      t1, t2, t3, rgb, val;\n\n  if (s == 0) {\n    val = l * 255;\n    return [val, val, val];\n  }\n\n  if (l < 0.5)\n    t2 = l * (1 + s);\n  else\n    t2 = l + s - l * s;\n  t1 = 2 * l - t2;\n\n  rgb = [0, 0, 0];\n  for (var i = 0; i < 3; i++) {\n    t3 = h + 1 / 3 * - (i - 1);\n    t3 < 0 && t3++;\n    t3 > 1 && t3--;\n\n    if (6 * t3 < 1)\n      val = t1 + (t2 - t1) * 6 * t3;\n    else if (2 * t3 < 1)\n      val = t2;\n    else if (3 * t3 < 2)\n      val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n    else\n      val = t1;\n\n    rgb[i] = val * 255;\n  }\n\n  return rgb;\n}\n\nfunction hsl2hsv(hsl) {\n  var h = hsl[0],\n      s = hsl[1] / 100,\n      l = hsl[2] / 100,\n      sv, v;\n\n  if(l === 0) {\n      // no need to do calc on black\n      // also avoids divide by 0 error\n      return [0, 0, 0];\n  }\n\n  l *= 2;\n  s *= (l <= 1) ? l : 2 - l;\n  v = (l + s) / 2;\n  sv = (2 * s) / (l + s);\n  return [h, sv * 100, v * 100];\n}\n\nfunction hsl2hwb(args) {\n  return rgb2hwb(hsl2rgb(args));\n}\n\nfunction hsl2cmyk(args) {\n  return rgb2cmyk(hsl2rgb(args));\n}\n\nfunction hsl2keyword(args) {\n  return rgb2keyword(hsl2rgb(args));\n}\n\n\nfunction hsv2rgb(hsv) {\n  var h = hsv[0] / 60,\n      s = hsv[1] / 100,\n      v = hsv[2] / 100,\n      hi = Math.floor(h) % 6;\n\n  var f = h - Math.floor(h),\n      p = 255 * v * (1 - s),\n      q = 255 * v * (1 - (s * f)),\n      t = 255 * v * (1 - (s * (1 - f))),\n      v = 255 * v;\n\n  switch(hi) {\n    case 0:\n      return [v, t, p];\n    case 1:\n      return [q, v, p];\n    case 2:\n      return [p, v, t];\n    case 3:\n      return [p, q, v];\n    case 4:\n      return [t, p, v];\n    case 5:\n      return [v, p, q];\n  }\n}\n\nfunction hsv2hsl(hsv) {\n  var h = hsv[0],\n      s = hsv[1] / 100,\n      v = hsv[2] / 100,\n      sl, l;\n\n  l = (2 - s) * v;\n  sl = s * v;\n  sl /= (l <= 1) ? l : 2 - l;\n  sl = sl || 0;\n  l /= 2;\n  return [h, sl * 100, l * 100];\n}\n\nfunction hsv2hwb(args) {\n  return rgb2hwb(hsv2rgb(args))\n}\n\nfunction hsv2cmyk(args) {\n  return rgb2cmyk(hsv2rgb(args));\n}\n\nfunction hsv2keyword(args) {\n  return rgb2keyword(hsv2rgb(args));\n}\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nfunction hwb2rgb(hwb) {\n  var h = hwb[0] / 360,\n      wh = hwb[1] / 100,\n      bl = hwb[2] / 100,\n      ratio = wh + bl,\n      i, v, f, n;\n\n  // wh + bl cant be > 1\n  if (ratio > 1) {\n    wh /= ratio;\n    bl /= ratio;\n  }\n\n  i = Math.floor(6 * h);\n  v = 1 - bl;\n  f = 6 * h - i;\n  if ((i & 0x01) != 0) {\n    f = 1 - f;\n  }\n  n = wh + f * (v - wh);  // linear interpolation\n\n  switch (i) {\n    default:\n    case 6:\n    case 0: r = v; g = n; b = wh; break;\n    case 1: r = n; g = v; b = wh; break;\n    case 2: r = wh; g = v; b = n; break;\n    case 3: r = wh; g = n; b = v; break;\n    case 4: r = n; g = wh; b = v; break;\n    case 5: r = v; g = wh; b = n; break;\n  }\n\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction hwb2hsl(args) {\n  return rgb2hsl(hwb2rgb(args));\n}\n\nfunction hwb2hsv(args) {\n  return rgb2hsv(hwb2rgb(args));\n}\n\nfunction hwb2cmyk(args) {\n  return rgb2cmyk(hwb2rgb(args));\n}\n\nfunction hwb2keyword(args) {\n  return rgb2keyword(hwb2rgb(args));\n}\n\nfunction cmyk2rgb(cmyk) {\n  var c = cmyk[0] / 100,\n      m = cmyk[1] / 100,\n      y = cmyk[2] / 100,\n      k = cmyk[3] / 100,\n      r, g, b;\n\n  r = 1 - Math.min(1, c * (1 - k) + k);\n  g = 1 - Math.min(1, m * (1 - k) + k);\n  b = 1 - Math.min(1, y * (1 - k) + k);\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction cmyk2hsl(args) {\n  return rgb2hsl(cmyk2rgb(args));\n}\n\nfunction cmyk2hsv(args) {\n  return rgb2hsv(cmyk2rgb(args));\n}\n\nfunction cmyk2hwb(args) {\n  return rgb2hwb(cmyk2rgb(args));\n}\n\nfunction cmyk2keyword(args) {\n  return rgb2keyword(cmyk2rgb(args));\n}\n\n\nfunction xyz2rgb(xyz) {\n  var x = xyz[0] / 100,\n      y = xyz[1] / 100,\n      z = xyz[2] / 100,\n      r, g, b;\n\n  r = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n  g = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n  b = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n  // assume sRGB\n  r = r > 0.0031308 ? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n    : r = (r * 12.92);\n\n  g = g > 0.0031308 ? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n    : g = (g * 12.92);\n\n  b = b > 0.0031308 ? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n    : b = (b * 12.92);\n\n  r = Math.min(Math.max(0, r), 1);\n  g = Math.min(Math.max(0, g), 1);\n  b = Math.min(Math.max(0, b), 1);\n\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction xyz2lab(xyz) {\n  var x = xyz[0],\n      y = xyz[1],\n      z = xyz[2],\n      l, a, b;\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? Math.pow(x, 1/3) : (7.787 * x) + (16 / 116);\n  y = y > 0.008856 ? Math.pow(y, 1/3) : (7.787 * y) + (16 / 116);\n  z = z > 0.008856 ? Math.pow(z, 1/3) : (7.787 * z) + (16 / 116);\n\n  l = (116 * y) - 16;\n  a = 500 * (x - y);\n  b = 200 * (y - z);\n\n  return [l, a, b];\n}\n\nfunction xyz2lch(args) {\n  return lab2lch(xyz2lab(args));\n}\n\nfunction lab2xyz(lab) {\n  var l = lab[0],\n      a = lab[1],\n      b = lab[2],\n      x, y, z, y2;\n\n  if (l <= 8) {\n    y = (l * 100) / 903.3;\n    y2 = (7.787 * (y / 100)) + (16 / 116);\n  } else {\n    y = 100 * Math.pow((l + 16) / 116, 3);\n    y2 = Math.pow(y / 100, 1/3);\n  }\n\n  x = x / 95.047 <= 0.008856 ? x = (95.047 * ((a / 500) + y2 - (16 / 116))) / 7.787 : 95.047 * Math.pow((a / 500) + y2, 3);\n\n  z = z / 108.883 <= 0.008859 ? z = (108.883 * (y2 - (b / 200) - (16 / 116))) / 7.787 : 108.883 * Math.pow(y2 - (b / 200), 3);\n\n  return [x, y, z];\n}\n\nfunction lab2lch(lab) {\n  var l = lab[0],\n      a = lab[1],\n      b = lab[2],\n      hr, h, c;\n\n  hr = Math.atan2(b, a);\n  h = hr * 360 / 2 / Math.PI;\n  if (h < 0) {\n    h += 360;\n  }\n  c = Math.sqrt(a * a + b * b);\n  return [l, c, h];\n}\n\nfunction lab2rgb(args) {\n  return xyz2rgb(lab2xyz(args));\n}\n\nfunction lch2lab(lch) {\n  var l = lch[0],\n      c = lch[1],\n      h = lch[2],\n      a, b, hr;\n\n  hr = h / 360 * 2 * Math.PI;\n  a = c * Math.cos(hr);\n  b = c * Math.sin(hr);\n  return [l, a, b];\n}\n\nfunction lch2xyz(args) {\n  return lab2xyz(lch2lab(args));\n}\n\nfunction lch2rgb(args) {\n  return lab2rgb(lch2lab(args));\n}\n\nfunction keyword2rgb(keyword) {\n  return cssKeywords[keyword];\n}\n\nfunction keyword2hsl(args) {\n  return rgb2hsl(keyword2rgb(args));\n}\n\nfunction keyword2hsv(args) {\n  return rgb2hsv(keyword2rgb(args));\n}\n\nfunction keyword2hwb(args) {\n  return rgb2hwb(keyword2rgb(args));\n}\n\nfunction keyword2cmyk(args) {\n  return rgb2cmyk(keyword2rgb(args));\n}\n\nfunction keyword2lab(args) {\n  return rgb2lab(keyword2rgb(args));\n}\n\nfunction keyword2xyz(args) {\n  return rgb2xyz(keyword2rgb(args));\n}\n\nvar cssKeywords = {\n  aliceblue:  [240,248,255],\n  antiquewhite: [250,235,215],\n  aqua: [0,255,255],\n  aquamarine: [127,255,212],\n  azure:  [240,255,255],\n  beige:  [245,245,220],\n  bisque: [255,228,196],\n  black:  [0,0,0],\n  blanchedalmond: [255,235,205],\n  blue: [0,0,255],\n  blueviolet: [138,43,226],\n  brown:  [165,42,42],\n  burlywood:  [222,184,135],\n  cadetblue:  [95,158,160],\n  chartreuse: [127,255,0],\n  chocolate:  [210,105,30],\n  coral:  [255,127,80],\n  cornflowerblue: [100,149,237],\n  cornsilk: [255,248,220],\n  crimson:  [220,20,60],\n  cyan: [0,255,255],\n  darkblue: [0,0,139],\n  darkcyan: [0,139,139],\n  darkgoldenrod:  [184,134,11],\n  darkgray: [169,169,169],\n  darkgreen:  [0,100,0],\n  darkgrey: [169,169,169],\n  darkkhaki:  [189,183,107],\n  darkmagenta:  [139,0,139],\n  darkolivegreen: [85,107,47],\n  darkorange: [255,140,0],\n  darkorchid: [153,50,204],\n  darkred:  [139,0,0],\n  darksalmon: [233,150,122],\n  darkseagreen: [143,188,143],\n  darkslateblue:  [72,61,139],\n  darkslategray:  [47,79,79],\n  darkslategrey:  [47,79,79],\n  darkturquoise:  [0,206,209],\n  darkviolet: [148,0,211],\n  deeppink: [255,20,147],\n  deepskyblue:  [0,191,255],\n  dimgray:  [105,105,105],\n  dimgrey:  [105,105,105],\n  dodgerblue: [30,144,255],\n  firebrick:  [178,34,34],\n  floralwhite:  [255,250,240],\n  forestgreen:  [34,139,34],\n  fuchsia:  [255,0,255],\n  gainsboro:  [220,220,220],\n  ghostwhite: [248,248,255],\n  gold: [255,215,0],\n  goldenrod:  [218,165,32],\n  gray: [128,128,128],\n  green:  [0,128,0],\n  greenyellow:  [173,255,47],\n  grey: [128,128,128],\n  honeydew: [240,255,240],\n  hotpink:  [255,105,180],\n  indianred:  [205,92,92],\n  indigo: [75,0,130],\n  ivory:  [255,255,240],\n  khaki:  [240,230,140],\n  lavender: [230,230,250],\n  lavenderblush:  [255,240,245],\n  lawngreen:  [124,252,0],\n  lemonchiffon: [255,250,205],\n  lightblue:  [173,216,230],\n  lightcoral: [240,128,128],\n  lightcyan:  [224,255,255],\n  lightgoldenrodyellow: [250,250,210],\n  lightgray:  [211,211,211],\n  lightgreen: [144,238,144],\n  lightgrey:  [211,211,211],\n  lightpink:  [255,182,193],\n  lightsalmon:  [255,160,122],\n  lightseagreen:  [32,178,170],\n  lightskyblue: [135,206,250],\n  lightslategray: [119,136,153],\n  lightslategrey: [119,136,153],\n  lightsteelblue: [176,196,222],\n  lightyellow:  [255,255,224],\n  lime: [0,255,0],\n  limegreen:  [50,205,50],\n  linen:  [250,240,230],\n  magenta:  [255,0,255],\n  maroon: [128,0,0],\n  mediumaquamarine: [102,205,170],\n  mediumblue: [0,0,205],\n  mediumorchid: [186,85,211],\n  mediumpurple: [147,112,219],\n  mediumseagreen: [60,179,113],\n  mediumslateblue:  [123,104,238],\n  mediumspringgreen:  [0,250,154],\n  mediumturquoise:  [72,209,204],\n  mediumvioletred:  [199,21,133],\n  midnightblue: [25,25,112],\n  mintcream:  [245,255,250],\n  mistyrose:  [255,228,225],\n  moccasin: [255,228,181],\n  navajowhite:  [255,222,173],\n  navy: [0,0,128],\n  oldlace:  [253,245,230],\n  olive:  [128,128,0],\n  olivedrab:  [107,142,35],\n  orange: [255,165,0],\n  orangered:  [255,69,0],\n  orchid: [218,112,214],\n  palegoldenrod:  [238,232,170],\n  palegreen:  [152,251,152],\n  paleturquoise:  [175,238,238],\n  palevioletred:  [219,112,147],\n  papayawhip: [255,239,213],\n  peachpuff:  [255,218,185],\n  peru: [205,133,63],\n  pink: [255,192,203],\n  plum: [221,160,221],\n  powderblue: [176,224,230],\n  purple: [128,0,128],\n  rebeccapurple: [102, 51, 153],\n  red:  [255,0,0],\n  rosybrown:  [188,143,143],\n  royalblue:  [65,105,225],\n  saddlebrown:  [139,69,19],\n  salmon: [250,128,114],\n  sandybrown: [244,164,96],\n  seagreen: [46,139,87],\n  seashell: [255,245,238],\n  sienna: [160,82,45],\n  silver: [192,192,192],\n  skyblue:  [135,206,235],\n  slateblue:  [106,90,205],\n  slategray:  [112,128,144],\n  slategrey:  [112,128,144],\n  snow: [255,250,250],\n  springgreen:  [0,255,127],\n  steelblue:  [70,130,180],\n  tan:  [210,180,140],\n  teal: [0,128,128],\n  thistle:  [216,191,216],\n  tomato: [255,99,71],\n  turquoise:  [64,224,208],\n  violet: [238,130,238],\n  wheat:  [245,222,179],\n  white:  [255,255,255],\n  whitesmoke: [245,245,245],\n  yellow: [255,255,0],\n  yellowgreen:  [154,205,50]\n};\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n  reverseKeywords[JSON.stringify(cssKeywords[key])] = key;\n}\n","module.exports = wrap;\nfunction wrap (value, from, to) {\n  if (typeof from !== 'number' || typeof to !== 'number') {\n    throw new TypeError('Must specify \"to\" and \"from\" arguments as numbers');\n  }\n  // algorithm from http://stackoverflow.com/a/5852628/599884\n  if (from > to) {\n    var t = from;\n    from = to;\n    to = t;\n  }\n  var cycle = to - from;\n  if (cycle === 0) {\n    return to;\n  }\n  return value - cycle * Math.floor((value - from) / cycle);\n}\n","var defined = require('defined');\nvar wrap = require('./lib/wrap');\nvar EPSILON = Number.EPSILON;\n\nfunction clamp (value, min, max) {\n  return min < max\n    ? (value < min ? min : value > max ? max : value)\n    : (value < max ? max : value > min ? min : value);\n}\n\nfunction clamp01 (v) {\n  return clamp(v, 0, 1);\n}\n\nfunction lerp (min, max, t) {\n  return min * (1 - t) + max * t;\n}\n\nfunction inverseLerp (min, max, t) {\n  if (Math.abs(min - max) < EPSILON) return 0;\n  else return (t - min) / (max - min);\n}\n\nfunction smoothstep (min, max, t) {\n  var x = clamp(inverseLerp(min, max, t), 0, 1);\n  return x * x * (3 - 2 * x);\n}\n\nfunction toFinite (n, defaultValue) {\n  defaultValue = defined(defaultValue, 0);\n  return typeof n === 'number' && isFinite(n) ? n : defaultValue;\n}\n\nfunction expandVector (dims) {\n  if (typeof dims !== 'number') throw new TypeError('Expected dims argument');\n  return function (p, defaultValue) {\n    defaultValue = defined(defaultValue, 0);\n    var scalar;\n    if (p == null) {\n      // No vector, create a default one\n      scalar = defaultValue;\n    } else if (typeof p === 'number' && isFinite(p)) {\n      // Expand single channel to multiple vector\n      scalar = p;\n    }\n\n    var out = [];\n    var i;\n    if (scalar == null) {\n      for (i = 0; i < dims; i++) {\n        out[i] = toFinite(p[i], defaultValue);\n      }\n    } else {\n      for (i = 0; i < dims; i++) {\n        out[i] = scalar;\n      }\n    }\n    return out;\n  };\n}\n\nfunction lerpArray (min, max, t, out) {\n  out = out || [];\n  if (min.length !== max.length) {\n    throw new TypeError('min and max array are expected to have the same length');\n  }\n  for (var i = 0; i < min.length; i++) {\n    out[i] = lerp(min[i], max[i], t);\n  }\n  return out;\n}\n\nfunction newArray (n, initialValue) {\n  n = defined(n, 0);\n  if (typeof n !== 'number') throw new TypeError('Expected n argument to be a number');\n  var out = [];\n  for (var i = 0; i < n; i++) out.push(initialValue);\n  return out;\n}\n\nfunction linspace (n, opts) {\n  n = defined(n, 0);\n  if (typeof n !== 'number') throw new TypeError('Expected n argument to be a number');\n  opts = opts || {};\n  if (typeof opts === 'boolean') {\n    opts = { endpoint: true };\n  }\n  var offset = defined(opts.offset, 0);\n  if (opts.endpoint) {\n    return newArray(n).map(function (_, i) {\n      return n <= 1 ? 0 : ((i + offset) / (n - 1));\n    });\n  } else {\n    return newArray(n).map(function (_, i) {\n      return (i + offset) / n;\n    });\n  }\n}\n\nfunction lerpFrames (values, t, out) {\n  t = clamp(t, 0, 1);\n\n  var len = values.length - 1;\n  var whole = t * len;\n  var frame = Math.floor(whole);\n  var fract = whole - frame;\n\n  var nextFrame = Math.min(frame + 1, len);\n  var a = values[frame % values.length];\n  var b = values[nextFrame % values.length];\n  if (typeof a === 'number' && typeof b === 'number') {\n    return lerp(a, b, fract);\n  } else if (Array.isArray(a) && Array.isArray(b)) {\n    return lerpArray(a, b, fract, out);\n  } else {\n    throw new TypeError('Mismatch in value type of two array elements: ' + frame + ' and ' + nextFrame);\n  }\n}\n\nfunction mod (a, b) {\n  return ((a % b) + b) % b;\n}\n\nfunction degToRad (n) {\n  return n * Math.PI / 180;\n}\n\nfunction radToDeg (n) {\n  return n * 180 / Math.PI;\n}\n\nfunction fract (n) {\n  return n - Math.floor(n);\n}\n\nfunction sign (n) {\n  if (n > 0) return 1;\n  else if (n < 0) return -1;\n  else return 0;\n}\n\n// Specific function from Unity / ofMath, not sure its needed?\n// function lerpWrap (a, b, t, min, max) {\n//   return wrap(a + wrap(b - a, min, max) * t, min, max)\n// }\n\nfunction pingPong (t, length) {\n  t = mod(t, length * 2);\n  return length - Math.abs(t - length);\n}\n\nfunction damp (a, b, lambda, dt) {\n  return lerp(a, b, 1 - Math.exp(-lambda * dt));\n}\n\nfunction dampArray (a, b, lambda, dt, out) {\n  out = out || [];\n  for (var i = 0; i < a.length; i++) {\n    out[i] = damp(a[i], b[i], lambda, dt);\n  }\n  return out;\n}\n\nfunction mapRange (value, inputMin, inputMax, outputMin, outputMax, clamp) {\n  // Reference:\n  // https://openframeworks.cc/documentation/math/ofMath/\n  if (Math.abs(inputMin - inputMax) < EPSILON) {\n    return outputMin;\n  } else {\n    var outVal = ((value - inputMin) / (inputMax - inputMin) * (outputMax - outputMin) + outputMin);\n    if (clamp) {\n      if (outputMax < outputMin) {\n        if (outVal < outputMax) outVal = outputMax;\n        else if (outVal > outputMin) outVal = outputMin;\n      } else {\n        if (outVal > outputMax) outVal = outputMax;\n        else if (outVal < outputMin) outVal = outputMin;\n      }\n    }\n    return outVal;\n  }\n}\n\nmodule.exports = {\n  mod: mod,\n  fract: fract,\n  sign: sign,\n  degToRad: degToRad,\n  radToDeg: radToDeg,\n  wrap: wrap,\n  pingPong: pingPong,\n  linspace: linspace,\n  lerp: lerp,\n  lerpArray: lerpArray,\n  inverseLerp: inverseLerp,\n  lerpFrames: lerpFrames,\n  clamp: clamp,\n  clamp01: clamp01,\n  smoothstep: smoothstep,\n  damp: damp,\n  dampArray: dampArray,\n  mapRange: mapRange,\n  expand2D: expandVector(2),\n  expand3D: expandVector(3),\n  expand4D: expandVector(4)\n};\n","module.exports = function vec2Copy(out, a) {\n    out[0] = a[0]\n    out[1] = a[1]\n    return out\n}","\"use strict\"\r\n\r\nvar abs = Math.abs\r\n  , min = Math.min\r\n\r\nfunction almostEqual(a, b, absoluteError, relativeError) {\r\n  var d = abs(a - b)\r\n  \r\n  if (absoluteError == null) absoluteError = almostEqual.DBL_EPSILON;\r\n  if (relativeError == null) relativeError = absoluteError;\r\n  \r\n  if(d <= absoluteError) {\r\n    return true\r\n  }\r\n  if(d <= relativeError * min(abs(a), abs(b))) {\r\n    return true\r\n  }\r\n  return a === b\r\n}\r\n\r\nalmostEqual.FLT_EPSILON = 1.19209290e-7\r\nalmostEqual.DBL_EPSILON = 2.2204460492503131e-16\r\n\r\nmodule.exports = almostEqual\r\n","module.exports = {\n  random: require('./random'),\n  math: require('./math'),\n  penplot: require('./penplot.js'),\n  geometry: require('./geometry.js'),\n  shader: require('./shader.js'),\n  color: require('./color.js')\n};\n","\nmodule.exports = absolutize\n\n/**\n * redefine `path` with absolute coordinates\n *\n * @param {Array} path\n * @return {Array}\n */\n\nfunction absolutize(path){\n\tvar startX = 0\n\tvar startY = 0\n\tvar x = 0\n\tvar y = 0\n\n\treturn path.map(function(seg){\n\t\tseg = seg.slice()\n\t\tvar type = seg[0]\n\t\tvar command = type.toUpperCase()\n\n\t\t// is relative\n\t\tif (type != command) {\n\t\t\tseg[0] = command\n\t\t\tswitch (type) {\n\t\t\t\tcase 'a':\n\t\t\t\t\tseg[6] += x\n\t\t\t\t\tseg[7] += y\n\t\t\t\t\tbreak\n\t\t\t\tcase 'v':\n\t\t\t\t\tseg[1] += y\n\t\t\t\t\tbreak\n\t\t\t\tcase 'h':\n\t\t\t\t\tseg[1] += x\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tfor (var i = 1; i < seg.length;) {\n\t\t\t\t\t\tseg[i++] += x\n\t\t\t\t\t\tseg[i++] += y\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// update cursor state\n\t\tswitch (command) {\n\t\t\tcase 'Z':\n\t\t\t\tx = startX\n\t\t\t\ty = startY\n\t\t\t\tbreak\n\t\t\tcase 'H':\n\t\t\t\tx = seg[1]\n\t\t\t\tbreak\n\t\t\tcase 'V':\n\t\t\t\ty = seg[1]\n\t\t\t\tbreak\n\t\t\tcase 'M':\n\t\t\t\tx = startX = seg[1]\n\t\t\t\ty = startY = seg[2]\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tx = seg[seg.length - 2]\n\t\t\t\ty = seg[seg.length - 1]\n\t\t}\n\n\t\treturn seg\n\t})\n}\n","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","module.exports.squaredDistance = squaredDistance;\nfunction squaredDistance (pt1, pt2) {\n  var dx = pt2[0] - pt1[0];\n  var dy = pt2[1] - pt1[1];\n  return dx * dx + dy * dy;\n}\n","var lineclip = require('lineclip');\nvar almostEqual = require('almost-equal');\nvar arrayAlmostEqual = require('array-almost-equal');\nvar clone = require('clone');\nvar squaredDistance = require('./lib/vec2').squaredDistance;\n\nmodule.exports.arePointsCollinear = function (point0, point1, point2) {\n  var x0 = point0[0];\n  var y0 = point0[1];\n  var x1 = point1[0];\n  var y1 = point1[1];\n  var x2 = point2[0];\n  var y2 = point2[1];\n  return almostEqual((y0 - y1) * (x0 - x2), (y0 - y2) * (x0 - x1));\n};\n\nmodule.exports.removeDuplicatePoints = function (path) {\n  var newPath = [];\n  var lastPoint;\n  for (var i = 0; i < path.length; i++) {\n    var curPoint = path[i];\n    if (!lastPoint || !arrayAlmostEqual(lastPoint, curPoint)) {\n      newPath.push(curPoint);\n      lastPoint = curPoint;\n    }\n  }\n  return clone(newPath);\n};\n\nmodule.exports.removeCollinearPoints = function (path) {\n  var newPath = [];\n  var remainingPoints = clone(path);\n  while (remainingPoints.length >= 3) {\n    var p0 = remainingPoints[0];\n    var p1 = remainingPoints[1];\n    var p2 = remainingPoints[2];\n    var collinear = module.exports.arePointsCollinear(p0, p1, p2);\n    // one more check is to ensure that points are in a line:\n    // A->B->C\n    // not A->C->B or some variant\n    if (collinear) {\n      var distAB = squaredDistance(p0, p1);\n      var distAC = squaredDistance(p0, p2);\n      if (distAB > distAC) collinear = false;\n    }\n    if (collinear) {\n      // the first 3 points are collinear\n      // remove the second point as it isn't needed\n      remainingPoints.splice(1, 1);\n    } else {\n      // the 3 points are not collinear\n      // add the first one as the others may still be collinear\n      for (var i = 0; i < 1; i++) {\n        newPath.push(remainingPoints.shift());\n      }\n    }\n  }\n  // add any remaining points\n  while (remainingPoints.length) {\n    newPath.push(remainingPoints.shift());\n  }\n  return newPath;\n};\n\nmodule.exports.clipSegmentToCircle = require('./lib/clip/clip-segment-to-circle');\nmodule.exports.clipLineToCircle = require('./lib/clip/clip-line-to-circle');\n\nmodule.exports.clipPolylinesToBox = function (polylines, bbox, border, closeLines) {\n  if (!Array.isArray(bbox) || (bbox.length !== 2 && bbox.length !== 4)) {\n    throw new Error('Expected box to either be format [ minPoint, maxPoint ] or [ minX, minY, maxX, maxY ]');\n  }\n  // Expand nested format to flat bounds\n  if (bbox.length === 2) {\n    var min = bbox[0];\n    var max = bbox[1];\n    bbox = [ min[0], min[1], max[0], max[1] ];\n  }\n  closeLines = closeLines !== false;\n  border = Boolean(border);\n\n  if (border) {\n    return polylines.map(function (line) {\n      var result = lineclip.polygon(line, bbox);\n      if (closeLines && result.length > 2) {\n        result.push(result[0]);\n      }\n      return result;\n    }).filter(function (lines) {\n      return lines.length > 0;\n    });\n  } else {\n    return polylines.map(function (line) {\n      return lineclip.polyline(line, bbox);\n    }).reduce(function (a, b) {\n      return a.concat(b);\n    }, []);\n  }\n};\n\nmodule.exports.createHatchLines = createHatchLines;\nfunction createHatchLines (bounds, angle, spacing, out) {\n  if (!Array.isArray(bounds) || (bounds.length !== 2 && bounds.length !== 4)) {\n    throw new Error('Expected box to either be format [ minPoint, maxPoint ] or [ minX, minY, maxX, maxY ]');\n  }\n  // Expand nested format to flat bounds\n  if (bounds.length === 2) {\n    var min = bounds[0];\n    var max = bounds[1];\n    bounds = [ min[0], min[1], max[0], max[1] ];\n  }\n\n  if (angle == null) angle = -Math.PI / 4;\n  if (spacing == null) spacing = 0.5;\n  if (out == null) out = [];\n\n  // Reference:\n  // https://github.com/evil-mad/EggBot/blob/master/inkscape_driver/eggbot_hatch.py\n  spacing = Math.abs(spacing);\n  if (spacing === 0) throw new Error('cannot use a spacing of zero as it will run an infinite loop!');\n\n  var xmin = bounds[0];\n  var ymin = bounds[1];\n  var xmax = bounds[2];\n  var ymax = bounds[3];\n\n  var w = xmax - xmin;\n  var h = ymax - ymin;\n  if (w === 0 || h === 0) return out;\n  var r = Math.sqrt(w * w + h * h) / 2;\n  var rotAngle = Math.PI / 2 - angle;\n  var ca = Math.cos(rotAngle);\n  var sa = Math.sin(rotAngle);\n  var cx = xmin + (w / 2);\n  var cy = ymin + (h / 2);\n  var i = -r;\n  while (i <= r) {\n    // Line starts at (i, -r) and goes to (i, +r)\n    var x1 = cx + (i * ca) + (r * sa); //  i * ca - (-r) * sa\n    var y1 = cy + (i * sa) - (r * ca); //  i * sa + (-r) * ca\n    var x2 = cx + (i * ca) - (r * sa); //  i * ca - (+r) * sa\n    var y2 = cy + (i * sa) + (r * ca); //  i * sa + (+r) * ca\n    i += spacing;\n    // Remove any potential hatch lines which are entirely\n    // outside of the bounding box\n    if ((x1 < xmin && x2 < xmin) || (x1 > xmax && x2 > xmax)) {\n      continue;\n    }\n    if ((y1 < ymin && y2 < ymin) || (y1 > ymax && y2 > ymax)) {\n      continue;\n    }\n    out.push([ [ x1, y1 ], [ x2, y2 ] ]);\n  }\n  return out;\n}\n\nmodule.exports.getBounds = function getBounds (points) {\n  var n = points.length;\n  if (n === 0) {\n    throw new Error('Expected points to be a non-empty array');\n  }\n  var d = points[0].length;\n  var lo = points[0].slice();\n  var hi = points[0].slice();\n  for (var i = 1; i < n; ++i) {\n    var p = points[i];\n    for (var j = 0; j < d; ++j) {\n      var x = p[j];\n      lo[j] = Math.min(lo[j], x);\n      hi[j] = Math.max(hi[j], x);\n    }\n  }\n  return [ lo, hi ];\n};\n","var floatHSL2RGB = require('float-hsl2rgb');\nvar floatRGB2HSL = require('float-rgb2hsl');\nvar wrap = require('./wrap');\n\nmodule.exports.RGBAToHSLA = RGBAToHSLA;\nfunction RGBAToHSLA (rgba) {\n  var floatHSL = floatRGB2HSL([ rgba[0] / 255, rgba[1] / 255, rgba[2] / 255 ]);\n  return [\n    Math.max(0, Math.min(360, Math.round(floatHSL[0] * 360))),\n    Math.max(0, Math.min(100, Math.round(floatHSL[1] * 100))),\n    Math.max(0, Math.min(100, Math.round(floatHSL[2] * 100))),\n    rgba[3]\n  ];\n}\n\nmodule.exports.HSLAToRGBA = HSLAToRGBA;\nfunction HSLAToRGBA (hsla) {\n  var hue = wrap(hsla[0], 0, 360);\n  var floatRGB = floatHSL2RGB([ hue / 360, hsla[1] / 100, hsla[2] / 100 ]);\n  return [\n    Math.max(0, Math.min(255, Math.round(floatRGB[0] * 255))),\n    Math.max(0, Math.min(255, Math.round(floatRGB[1] * 255))),\n    Math.max(0, Math.min(255, Math.round(floatRGB[2] * 255))),\n    hsla[3]\n  ];\n}\n","module.exports = hexToRGBA;\nfunction hexToRGBA (str) {\n  if (typeof str !== 'string') {\n    throw new TypeError('Hex code parsing must be performed on a string parameter');\n  }\n\n  str = str.toLowerCase();\n\n  if (!/^#[a-f0-9]+$/.test(str)) {\n    return null;\n  }\n\n  var hex = str.replace(/^#/, '');\n  var alpha = 1;\n\n  if (hex.length === 8) {\n    alpha = parseInt(hex.slice(6, 8), 16) / 255;\n    hex = hex.slice(0, 6);\n  }\n\n  if (hex.length === 4) {\n    alpha = parseInt(hex.slice(3, 4).repeat(2), 16) / 255;\n    hex = hex.slice(0, 3);\n  }\n\n  if (hex.length === 3) {\n    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n  }\n\n  var num = parseInt(hex, 16);\n  var red = num >> 16;\n  var green = (num >> 8) & 255;\n  var blue = num & 255;\n\n  return [ red, green, blue, alpha ];\n}\n","module.exports = rgbaToHex;\nfunction rgbaToHex (rgba) {\n  if (!rgba || !Array.isArray(rgba)) {\n    throw new TypeError('Must specify an array to convert into a hex code');\n  }\n\n  var r = Math.max(0, Math.min(255, Math.round(rgba[0] || 0)));\n  var g = Math.max(0, Math.min(255, Math.round(rgba[1] || 0)));\n  var b = Math.max(0, Math.min(255, Math.round(rgba[2] || 0)));\n\n  var alpha = rgba[3];\n  if (typeof alpha === 'undefined' || !isFinite(alpha)) {\n    alpha = 1;\n  }\n  var a = Math.max(0, Math.min(255, Math.round(alpha * 255)));\n  var alphaParam = a === 255 ? '' : (a | 1 << 8).toString(16).slice(1);\n  var result = ((b | g << 8 | r << 16) | 1 << 24).toString(16).slice(1) + alphaParam;\n  return '#' + result;\n}\n","var defined = require('defined');\nvar convert = require('convert-length');\nvar d3 = require('d3-path');\nvar svgPathContours = require('svg-path-contours');\nvar svgPathParse = require('parse-svg-path');\nvar svgPathAbs = require('abs-svg-path');\nvar svgPathArcs = require('normalize-svg-path');\nvar optimizer = require('./lib/optimize-penplot-paths');\nvar geometry = require('./geometry');\n\nvar DEFAULT_PEN_THICKNESS = 0.03;\nvar DEFAULT_PEN_THICKNESS_UNIT = 'cm';\nvar DEFAULT_PIXELS_PER_INCH = 90;\n\n// A Path helper for arcs, curves and lineTo commands\nmodule.exports.createPath = createPath;\nfunction createPath (fn) {\n  var path = d3.path();\n  if (typeof fn === 'function') fn(path);\n  path.lineTo = wrap(path.lineTo);\n  path.quadraticCurveTo = wrap(path.quadraticCurveTo);\n  path.bezierCurveTo = wrap(path.bezierCurveTo);\n  return path;\n\n  // Patch a bug in d3-path that doesn't handle\n  // lineTo and so on without an initial moveTo\n  function wrap (fn) {\n    return function () {\n      var args = Array.prototype.slice.call(arguments);\n      if (path._x1 == null && path._y1 == null) {\n        path.moveTo(args[0], args[1]);\n      }\n      return fn.apply(path, args);\n    };\n  }\n}\n\nmodule.exports.pathsToSVGPaths = pathsToSVGPaths;\nfunction pathsToSVGPaths (inputs, opt) {\n  opt = opt || {};\n\n  var svgPath = convertToSVGPath(inputs, opt);\n  var svgPaths = Array.isArray(svgPath) ? svgPath : [ svgPath ];\n  return svgPaths.filter(Boolean);\n}\n\nmodule.exports.pathsToPolylines = pathsToPolylines;\nfunction pathsToPolylines (inputs, opt) {\n  opt = opt || {};\n\n  var scale;\n  if (opt.curveResolution != null && isFinite(opt.curveResolution) && typeof opt.curveResolution === 'number') {\n    scale = opt.curveResolution;\n  } else {\n    var units = opt.units || 'px';\n    scale = Math.max(1, convert(4, units, 'px'));\n  }\n\n  var contours = [];\n  eachPath(inputs, function (feature) {\n    if (typeof feature === 'string') {\n      var commands = svgPathParse(feature);\n      var subContours = svgPathContours(commands, scale);\n      subContours.forEach(function (subContour) {\n        contours.push(subContour);\n      });\n    } else {\n      // output only 2D polylines\n      var polyline = feature.map(function (point) {\n        return [ point[0] || 0, point[1] || 0 ];\n      });\n      contours.push(polyline);\n    }\n  });\n  return contours;\n}\n\nmodule.exports.pathsToSVG = pathsToSVG;\nfunction pathsToSVG (inputs, opt) {\n  opt = opt || {};\n\n  var width = opt.width;\n  var height = opt.height;\n\n  var computeBounds = typeof width === 'undefined' || typeof height === 'undefined';\n  if (computeBounds) {\n    throw new Error('Must specify \"width\" and \"height\" options');\n  }\n\n  var viewUnits = 'px';\n  var units = opt.units || viewUnits;\n\n  var convertOptions = {\n    units: units,\n    viewUnits: 'px',\n    roundPixel: false,\n    precision: defined(opt.precision, 5),\n    pixelsPerInch: DEFAULT_PIXELS_PER_INCH\n  };\n\n  // Convert all SVGPaths/paths/etc to polylines\n  // This won't change their units so they are still in user space\n  inputs = pathsToPolylines(inputs, Object.assign({}, convertOptions, {\n    curveResolution: opt.curveResolution || undefined\n  }));\n\n  // TODO: allow for 'repeat' option\n  if (opt.optimize) {\n    var optimizeOpts = typeof opt.optimize === 'object' ? opt.optimize : {\n      sort: true,\n      merge: true,\n      removeDuplicates: true,\n      removeCollinear: true\n    };\n    var shouldSort = optimizeOpts.sort !== false;\n    var shouldMerge = optimizeOpts.merge !== false;\n    var shouldRemoveDuplicate = optimizeOpts.removeDuplicates !== false;\n    var shouldRemoveCollinear = optimizeOpts.removeCollinear !== false;\n    if (shouldRemoveDuplicate) {\n      inputs = inputs.map(function (line) {\n        return geometry.removeDuplicatePoints(line);\n      });\n    }\n    if (shouldRemoveCollinear) {\n      inputs = inputs.map(function (line) {\n        return geometry.removeCollinearPoints(line);\n      });\n    }\n    // now do sorting & merging\n    if (shouldSort) inputs = optimizer.sort(inputs);\n    if (shouldMerge) {\n      var mergeThreshold = optimizeOpts.mergeThreshold != null\n        ? optimizeOpts.mergeThreshold\n        : convert(0.25, 'mm', units, {\n          pixelsPerInch: DEFAULT_PIXELS_PER_INCH\n        });\n      inputs = optimizer.merge(inputs, mergeThreshold);\n    }\n  }\n\n  // now we convert all polylines in user space units into view units\n  var svgPaths = pathsToSVGPaths(inputs, convertOptions);\n\n  var viewWidth = convert(width, units, viewUnits, convertOptions).toString();\n  var viewHeight = convert(height, units, viewUnits, convertOptions).toString();\n  var fillStyle = opt.fillStyle || 'none';\n  var strokeStyle = opt.strokeStyle || 'black';\n  var lineWidth = opt.lineWidth;\n  var lineJoin = opt.lineJoin;\n  var lineCap = opt.lineCap;\n\n  // Choose a default line width based on a relatively fine-tip pen\n  if (typeof lineWidth === 'undefined') {\n    // Convert to user units\n    lineWidth = convert(DEFAULT_PEN_THICKNESS, DEFAULT_PEN_THICKNESS_UNIT, units, convertOptions).toString();\n  }\n\n  var pathElements = svgPaths.map(function (d) {\n    var attrs = toAttrList([\n      [ 'd', d ]\n    ]);\n    return '    <path ' + attrs + ' />';\n  }).join('\\n');\n\n  var groupAttrs = toAttrList([\n    [ 'fill', fillStyle ],\n    [ 'stroke', strokeStyle ],\n    [ 'stroke-width', lineWidth + '' + units ],\n    lineJoin ? [ 'stroke-linejoin', lineJoin ] : false,\n    lineCap ? [ 'stroke-linecap', lineCap ] : false\n  ]);\n\n  return [\n    '<?xml version=\"1.0\" standalone=\"no\"?>',\n    '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" ',\n    '    \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">',\n    '<svg width=\"' + width + units + '\" height=\"' + height + units + '\"',\n    '    xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 ' + viewWidth + ' ' + viewHeight + '\">',\n    '  <g ' + groupAttrs + '>',\n    pathElements,\n    '  </g>',\n    '</svg>'\n  ].join('\\n');\n}\n\nfunction toAttrList (args) {\n  return args.filter(Boolean).map(function (attr) {\n    return attr[0] + '=\"' + attr[1] + '\"';\n  }).join(' ');\n}\n\nmodule.exports.renderPaths = renderPaths;\nfunction renderPaths (inputs, opt) {\n  opt = opt || {};\n\n  var context = opt.context;\n  if (!context) throw new Error('Must specify \"context\" options');\n\n  var units = opt.units || 'px';\n\n  var width = opt.width;\n  var height = opt.height;\n  if (typeof width === 'undefined' || typeof height === 'undefined') {\n    throw new Error('Must specify \"width\" and \"height\" options');\n  }\n\n  // Choose a default line width based on a relatively fine-tip pen\n  var lineWidth = opt.lineWidth;\n  if (typeof lineWidth === 'undefined') {\n    // Convert to user units\n    lineWidth = convert(DEFAULT_PEN_THICKNESS, DEFAULT_PEN_THICKNESS_UNIT, units, {\n      roundPixel: false,\n      pixelsPerInch: DEFAULT_PIXELS_PER_INCH\n    });\n  }\n\n  // Clear canvas\n  context.clearRect(0, 0, width, height);\n\n  // Fill with white\n  context.fillStyle = opt.background || 'white';\n  context.fillRect(0, 0, width, height);\n\n  context.strokeStyle = opt.foreground || opt.strokeStyle || 'black';\n  context.lineWidth = lineWidth;\n  context.lineJoin = opt.lineJoin || 'miter';\n  context.lineCap = opt.lineCap || 'butt';\n\n  // Draw lines\n  eachPath(inputs, function (feature) {\n    context.beginPath();\n\n    if (typeof feature === 'string') {\n      // SVG string = drawSVGPath;\n      drawSVGPath(context, feature);\n    } else {\n      // list of points\n      feature.forEach(function (p) {\n        context.lineTo(p[0], p[1]);\n      });\n    }\n\n    context.stroke();\n  });\n\n  // Save layers\n  return [\n    // Export PNG as first layer\n    context.canvas,\n    // Export SVG for pen plotter as second layer\n    {\n      data: pathsToSVG(inputs, opt),\n      extension: '.svg'\n    }\n  ];\n}\n\n// Not documented...\nmodule.exports.convertToSVGPath = convertToSVGPath;\nfunction convertToSVGPath (input, opt) {\n  // Input can be a single 'path' (string, object or polyline),\n  // or nested 'path' elements\n\n  // non-path\n  if (isEmpty(input)) return '';\n\n  // strings are just returned as-is\n  if (typeof input === 'string') return input;\n\n  // assume a path instance\n  if (isPath(input)) {\n    return input.toString();\n  }\n\n  if (isPolyline(input)) {\n    return polylineToSVGPath(input, opt);\n  }\n\n  // assume a list of 'path' features or a list of polylines\n  if (Array.isArray(input)) {\n    return input.map(function (feature) {\n      return convertToSVGPath(feature, opt);\n    }).reduce(function (a, b) {\n      return a.concat(b);\n    }, []);\n  }\n\n  // Wasn't clear... let's return an empty path\n  return '';\n}\n\nmodule.exports.eachPath = eachPath;\nfunction eachPath (input, cb) {\n  if (isEmpty(input)) {\n    // pass-through\n  } else if (typeof input === 'string' || (isPath(input))) {\n    cb(input.toString());\n  } else if (isPolyline(input)) {\n    cb(input);\n  } else if (Array.isArray(input)) {\n    input.forEach(function (feature) {\n      return eachPath(feature, cb);\n    });\n  }\n}\n\nmodule.exports.drawSVGPath = drawSVGPath;\nfunction drawSVGPath (context, svgPath) {\n  var commands = svgPathArcs(svgPathAbs(svgPathParse(svgPath)));\n  for (var i = 0; i < commands.length; i++) {\n    var c = commands[i];\n    var type = c[0];\n    if (type === 'M') {\n      context.moveTo(c[1], c[2]);\n    } else if (type === 'C') {\n      context.bezierCurveTo(c[1], c[2], c[3], c[4], c[5], c[6]);\n    } else {\n      throw new Error('Illegal type \"' + type + '\" in SVG commands');\n    }\n  }\n}\n\nmodule.exports.polylineToSVGPath = polylineToSVGPath;\nfunction polylineToSVGPath (polyline, opt) {\n  opt = opt || {};\n  var units = opt.units || 'px';\n  var viewUnits = opt.viewUnits || units;\n  var commands = [];\n  var convertOptions = {\n    roundPixel: false,\n    precision: defined(opt.precision, 5),\n    pixelsPerInch: DEFAULT_PIXELS_PER_INCH\n  };\n  polyline.forEach(function (point, j) {\n    var type = (j === 0) ? 'M' : 'L';\n    var x = convert(point[0], units, viewUnits, convertOptions).toString();\n    var y = convert(point[1], units, viewUnits, convertOptions).toString();\n    commands.push(type + x + ' ' + y);\n  });\n  return commands.join(' ');\n}\n\nfunction isEmpty (input) {\n  return !input || (Array.isArray(input) && input.length === 0);\n}\n\nfunction isPath (input) {\n  return typeof input === 'object' && input && !Array.isArray(input);\n}\n\nfunction isPolyline (input) {\n  // empty array or not an array\n  if (!input || !Array.isArray(input) || input.length === 0) return false;\n  // if at least one of the inputs is a point, assume they all are\n  return isPoint(input[0]);\n}\n\nfunction isPoint (point) {\n  return Array.isArray(point) && point.length >= 2 && point.every(function (p) {\n    return typeof p === 'number';\n  });\n}\n\n// @deprecated\nmodule.exports.polylinesToSVG = function polylinesToSVG (polylines, opt) {\n  if (!Array.isArray(polylines)) throw new Error('Expected array of arrays for polylines');\n  console.warn('polylinesToSVG is deprecated, use pathsToSVG instead which has the same functionality');\n  // Create a single string from polylines\n  return pathsToSVG(polylines, opt);\n};\n\n// @deprecated\nmodule.exports.renderPolylines = function renderPolylines (polylines, opt) {\n  if (!Array.isArray(polylines)) throw new Error('Expected array of arrays for polylines');\n  console.warn('renderPolylines is deprecated, use renderPaths instead which has the same functionality');\n  // Create a single string from polylines\n  return renderPaths(polylines, opt);\n};\n","var defined = require('defined');\nvar units = [ 'mm', 'cm', 'm', 'pc', 'pt', 'in', 'ft', 'px' ];\n\nvar conversions = {\n  // metric\n  m: {\n    system: 'metric',\n    factor: 1\n  },\n  cm: {\n    system: 'metric',\n    factor: 1 / 100\n  },\n  mm: {\n    system: 'metric',\n    factor: 1 / 1000\n  },\n  // imperial\n  pt: {\n    system: 'imperial',\n    factor: 1 / 72\n  },\n  pc: {\n    system: 'imperial',\n    factor: 1 / 6\n  },\n  in: {\n    system: 'imperial',\n    factor: 1\n  },\n  ft: {\n    system: 'imperial',\n    factor: 12\n  }\n};\n\nconst anchors = {\n  metric: {\n    unit: 'm',\n    ratio: 1 / 0.0254\n  },\n  imperial: {\n    unit: 'in',\n    ratio: 0.0254\n  }\n};\n\nfunction round (value, decimals) {\n  return Number(Math.round(value + 'e' + decimals) + 'e-' + decimals);\n}\n\nfunction convertDistance (value, fromUnit, toUnit, opts) {\n  if (typeof value !== 'number' || !isFinite(value)) throw new Error('Value must be a finite number');\n  if (!fromUnit || !toUnit) throw new Error('Must specify from and to units');\n\n  opts = opts || {};\n  var pixelsPerInch = defined(opts.pixelsPerInch, 96);\n  var precision = opts.precision;\n  var roundPixel = opts.roundPixel !== false;\n\n  fromUnit = fromUnit.toLowerCase();\n  toUnit = toUnit.toLowerCase();\n\n  if (units.indexOf(fromUnit) === -1) throw new Error('Invalid from unit \"' + fromUnit + '\", must be one of: ' + units.join(', '));\n  if (units.indexOf(toUnit) === -1) throw new Error('Invalid from unit \"' + toUnit + '\", must be one of: ' + units.join(', '));\n\n  if (fromUnit === toUnit) {\n    // We don't need to convert from A to B since they are the same already\n    return value;\n  }\n\n  var toFactor = 1;\n  var fromFactor = 1;\n  var isToPixel = false;\n\n  if (fromUnit === 'px') {\n    fromFactor = 1 / pixelsPerInch;\n    fromUnit = 'in';\n  }\n  if (toUnit === 'px') {\n    isToPixel = true;\n    toFactor = pixelsPerInch;\n    toUnit = 'in';\n  }\n\n  var fromUnitData = conversions[fromUnit];\n  var toUnitData = conversions[toUnit];\n\n  // source to anchor inside source's system\n  var anchor = value * fromUnitData.factor * fromFactor;\n\n  // if systems differ, convert one to another\n  if (fromUnitData.system !== toUnitData.system) {\n    // regular 'm' to 'in' and so forth\n    anchor *= anchors[fromUnitData.system].ratio;\n  }\n\n  var result = anchor / toUnitData.factor * toFactor;\n  if (isToPixel && roundPixel) {\n    result = Math.round(result);\n  } else if (typeof precision === 'number' && isFinite(precision)) {\n    result = round(result, precision);\n  }\n  return result;\n}\n\nmodule.exports = convertDistance;\nmodule.exports.units = units;\n","var bezier = require('adaptive-bezier-curve')\nvar abs = require('abs-svg-path')\nvar norm = require('normalize-svg-path')\nvar copy = require('vec2-copy')\n\nfunction set(out, x, y) {\n    out[0] = x\n    out[1] = y\n    return out\n}\n\nvar tmp1 = [0,0],\n    tmp2 = [0,0],\n    tmp3 = [0,0]\n\nfunction bezierTo(points, scale, start, seg) {\n    bezier(start, \n        set(tmp1, seg[1], seg[2]), \n        set(tmp2, seg[3], seg[4]),\n        set(tmp3, seg[5], seg[6]), scale, points)\n}\n\nmodule.exports = function contours(svg, scale) {\n    var paths = []\n\n    var points = []\n    var pen = [0, 0]\n    norm(abs(svg)).forEach(function(segment, i, self) {\n        if (segment[0] === 'M') {\n            copy(pen, segment.slice(1))\n            if (points.length>0) {\n                paths.push(points)\n                points = []\n            }\n        } else if (segment[0] === 'C') {\n            bezierTo(points, scale, pen, segment)\n            set(pen, segment[5], segment[6])\n        } else {\n            throw new Error('illegal type in SVG: '+segment[0])\n        }\n    })\n    if (points.length>0)\n        paths.push(points)\n    return paths\n}","module.exports = require('./function')()","function clone(point) { //TODO: use gl-vec2 for this\n    return [point[0], point[1]]\n}\n\nfunction vec2(x, y) {\n    return [x, y]\n}\n\nmodule.exports = function createBezierBuilder(opt) {\n    opt = opt||{}\n\n    var RECURSION_LIMIT = typeof opt.recursion === 'number' ? opt.recursion : 8\n    var FLT_EPSILON = typeof opt.epsilon === 'number' ? opt.epsilon : 1.19209290e-7\n    var PATH_DISTANCE_EPSILON = typeof opt.pathEpsilon === 'number' ? opt.pathEpsilon : 1.0\n\n    var curve_angle_tolerance_epsilon = typeof opt.angleEpsilon === 'number' ? opt.angleEpsilon : 0.01\n    var m_angle_tolerance = opt.angleTolerance || 0\n    var m_cusp_limit = opt.cuspLimit || 0\n\n    return function bezierCurve(start, c1, c2, end, scale, points) {\n        if (!points)\n            points = []\n\n        scale = typeof scale === 'number' ? scale : 1.0\n        var distanceTolerance = PATH_DISTANCE_EPSILON / scale\n        distanceTolerance *= distanceTolerance\n        begin(start, c1, c2, end, points, distanceTolerance)\n        return points\n    }\n\n\n    ////// Based on:\n    ////// https://github.com/pelson/antigrain/blob/master/agg-2.4/src/agg_curves.cpp\n\n    function begin(start, c1, c2, end, points, distanceTolerance) {\n        points.push(clone(start))\n        var x1 = start[0],\n            y1 = start[1],\n            x2 = c1[0],\n            y2 = c1[1],\n            x3 = c2[0],\n            y3 = c2[1],\n            x4 = end[0],\n            y4 = end[1]\n        recursive(x1, y1, x2, y2, x3, y3, x4, y4, points, distanceTolerance, 0)\n        points.push(clone(end))\n    }\n\n    function recursive(x1, y1, x2, y2, x3, y3, x4, y4, points, distanceTolerance, level) {\n        if(level > RECURSION_LIMIT) \n            return\n\n        var pi = Math.PI\n\n        // Calculate all the mid-points of the line segments\n        //----------------------\n        var x12   = (x1 + x2) / 2\n        var y12   = (y1 + y2) / 2\n        var x23   = (x2 + x3) / 2\n        var y23   = (y2 + y3) / 2\n        var x34   = (x3 + x4) / 2\n        var y34   = (y3 + y4) / 2\n        var x123  = (x12 + x23) / 2\n        var y123  = (y12 + y23) / 2\n        var x234  = (x23 + x34) / 2\n        var y234  = (y23 + y34) / 2\n        var x1234 = (x123 + x234) / 2\n        var y1234 = (y123 + y234) / 2\n\n        if(level > 0) { // Enforce subdivision first time\n            // Try to approximate the full cubic curve by a single straight line\n            //------------------\n            var dx = x4-x1\n            var dy = y4-y1\n\n            var d2 = Math.abs((x2 - x4) * dy - (y2 - y4) * dx)\n            var d3 = Math.abs((x3 - x4) * dy - (y3 - y4) * dx)\n\n            var da1, da2\n\n            if(d2 > FLT_EPSILON && d3 > FLT_EPSILON) {\n                // Regular care\n                //-----------------\n                if((d2 + d3)*(d2 + d3) <= distanceTolerance * (dx*dx + dy*dy)) {\n                    // If the curvature doesn't exceed the distanceTolerance value\n                    // we tend to finish subdivisions.\n                    //----------------------\n                    if(m_angle_tolerance < curve_angle_tolerance_epsilon) {\n                        points.push(vec2(x1234, y1234))\n                        return\n                    }\n\n                    // Angle & Cusp Condition\n                    //----------------------\n                    var a23 = Math.atan2(y3 - y2, x3 - x2)\n                    da1 = Math.abs(a23 - Math.atan2(y2 - y1, x2 - x1))\n                    da2 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - a23)\n                    if(da1 >= pi) da1 = 2*pi - da1\n                    if(da2 >= pi) da2 = 2*pi - da2\n\n                    if(da1 + da2 < m_angle_tolerance) {\n                        // Finally we can stop the recursion\n                        //----------------------\n                        points.push(vec2(x1234, y1234))\n                        return\n                    }\n\n                    if(m_cusp_limit !== 0.0) {\n                        if(da1 > m_cusp_limit) {\n                            points.push(vec2(x2, y2))\n                            return\n                        }\n\n                        if(da2 > m_cusp_limit) {\n                            points.push(vec2(x3, y3))\n                            return\n                        }\n                    }\n                }\n            }\n            else {\n                if(d2 > FLT_EPSILON) {\n                    // p1,p3,p4 are collinear, p2 is considerable\n                    //----------------------\n                    if(d2 * d2 <= distanceTolerance * (dx*dx + dy*dy)) {\n                        if(m_angle_tolerance < curve_angle_tolerance_epsilon) {\n                            points.push(vec2(x1234, y1234))\n                            return\n                        }\n\n                        // Angle Condition\n                        //----------------------\n                        da1 = Math.abs(Math.atan2(y3 - y2, x3 - x2) - Math.atan2(y2 - y1, x2 - x1))\n                        if(da1 >= pi) da1 = 2*pi - da1\n\n                        if(da1 < m_angle_tolerance) {\n                            points.push(vec2(x2, y2))\n                            points.push(vec2(x3, y3))\n                            return\n                        }\n\n                        if(m_cusp_limit !== 0.0) {\n                            if(da1 > m_cusp_limit) {\n                                points.push(vec2(x2, y2))\n                                return\n                            }\n                        }\n                    }\n                }\n                else if(d3 > FLT_EPSILON) {\n                    // p1,p2,p4 are collinear, p3 is considerable\n                    //----------------------\n                    if(d3 * d3 <= distanceTolerance * (dx*dx + dy*dy)) {\n                        if(m_angle_tolerance < curve_angle_tolerance_epsilon) {\n                            points.push(vec2(x1234, y1234))\n                            return\n                        }\n\n                        // Angle Condition\n                        //----------------------\n                        da1 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - Math.atan2(y3 - y2, x3 - x2))\n                        if(da1 >= pi) da1 = 2*pi - da1\n\n                        if(da1 < m_angle_tolerance) {\n                            points.push(vec2(x2, y2))\n                            points.push(vec2(x3, y3))\n                            return\n                        }\n\n                        if(m_cusp_limit !== 0.0) {\n                            if(da1 > m_cusp_limit)\n                            {\n                                points.push(vec2(x3, y3))\n                                return\n                            }\n                        }\n                    }\n                }\n                else {\n                    // Collinear case\n                    //-----------------\n                    dx = x1234 - (x1 + x4) / 2\n                    dy = y1234 - (y1 + y4) / 2\n                    if(dx*dx + dy*dy <= distanceTolerance) {\n                        points.push(vec2(x1234, y1234))\n                        return\n                    }\n                }\n            }\n        }\n\n        // Continue subdivision\n        //----------------------\n        recursive(x1, y1, x12, y12, x123, y123, x1234, y1234, points, distanceTolerance, level + 1) \n        recursive(x1234, y1234, x234, y234, x34, y34, x4, y4, points, distanceTolerance, level + 1) \n    }\n}\n","\nvar Ï€ = Math.PI\nvar _120 = radians(120)\n\nmodule.exports = normalize\n\n/**\n * describe `path` in terms of cubic bÃ©zier \n * curves and move commands\n *\n * @param {Array} path\n * @return {Array}\n */\n\nfunction normalize(path){\n\t// init state\n\tvar prev\n\tvar result = []\n\tvar bezierX = 0\n\tvar bezierY = 0\n\tvar startX = 0\n\tvar startY = 0\n\tvar quadX = null\n\tvar quadY = null\n\tvar x = 0\n\tvar y = 0\n\n\tfor (var i = 0, len = path.length; i < len; i++) {\n\t\tvar seg = path[i]\n\t\tvar command = seg[0]\n\t\tswitch (command) {\n\t\t\tcase 'M':\n\t\t\t\tstartX = seg[1]\n\t\t\t\tstartY = seg[2]\n\t\t\t\tbreak\n\t\t\tcase 'A':\n\t\t\t\tseg = arc(x, y,seg[1],seg[2],radians(seg[3]),seg[4],seg[5],seg[6],seg[7])\n\t\t\t\t// split multi part\n\t\t\t\tseg.unshift('C')\n\t\t\t\tif (seg.length > 7) {\n\t\t\t\t\tresult.push(seg.splice(0, 7))\n\t\t\t\t\tseg.unshift('C')\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'S':\n\t\t\t\t// default control point\n\t\t\t\tvar cx = x\n\t\t\t\tvar cy = y\n\t\t\t\tif (prev == 'C' || prev == 'S') {\n\t\t\t\t\tcx += cx - bezierX // reflect the previous command's control\n\t\t\t\t\tcy += cy - bezierY // point relative to the current point\n\t\t\t\t}\n\t\t\t\tseg = ['C', cx, cy, seg[1], seg[2], seg[3], seg[4]]\n\t\t\t\tbreak\n\t\t\tcase 'T':\n\t\t\t\tif (prev == 'Q' || prev == 'T') {\n\t\t\t\t\tquadX = x * 2 - quadX // as with 'S' reflect previous control point\n\t\t\t\t\tquadY = y * 2 - quadY\n\t\t\t\t} else {\n\t\t\t\t\tquadX = x\n\t\t\t\t\tquadY = y\n\t\t\t\t}\n\t\t\t\tseg = quadratic(x, y, quadX, quadY, seg[1], seg[2])\n\t\t\t\tbreak\n\t\t\tcase 'Q':\n\t\t\t\tquadX = seg[1]\n\t\t\t\tquadY = seg[2]\n\t\t\t\tseg = quadratic(x, y, seg[1], seg[2], seg[3], seg[4])\n\t\t\t\tbreak\n\t\t\tcase 'L':\n\t\t\t\tseg = line(x, y, seg[1], seg[2])\n\t\t\t\tbreak\n\t\t\tcase 'H':\n\t\t\t\tseg = line(x, y, seg[1], y)\n\t\t\t\tbreak\n\t\t\tcase 'V':\n\t\t\t\tseg = line(x, y, x, seg[1])\n\t\t\t\tbreak\n\t\t\tcase 'Z':\n\t\t\t\tseg = line(x, y, startX, startY)\n\t\t\t\tbreak\n\t\t}\n\n\t\t// update state\n\t\tprev = command\n\t\tx = seg[seg.length - 2]\n\t\ty = seg[seg.length - 1]\n\t\tif (seg.length > 4) {\n\t\t\tbezierX = seg[seg.length - 4]\n\t\t\tbezierY = seg[seg.length - 3]\n\t\t} else {\n\t\t\tbezierX = x\n\t\t\tbezierY = y\n\t\t}\n\t\tresult.push(seg)\n\t}\n\n\treturn result\n}\n\nfunction line(x1, y1, x2, y2){\n\treturn ['C', x1, y1, x2, y2, x2, y2]\n}\n\nfunction quadratic(x1, y1, cx, cy, x2, y2){\n\treturn [\n\t\t'C',\n\t\tx1/3 + (2/3) * cx,\n\t\ty1/3 + (2/3) * cy,\n\t\tx2/3 + (2/3) * cx,\n\t\ty2/3 + (2/3) * cy,\n\t\tx2,\n\t\ty2\n\t]\n}\n\n// This function is ripped from \n// github.com/DmitryBaranovskiy/raphael/blob/4d97d4/raphael.js#L2216-L2304 \n// which references w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n// TODO: make it human readable\n\nfunction arc(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n\tif (!recursive) {\n\t\tvar xy = rotate(x1, y1, -angle)\n\t\tx1 = xy.x\n\t\ty1 = xy.y\n\t\txy = rotate(x2, y2, -angle)\n\t\tx2 = xy.x\n\t\ty2 = xy.y\n\t\tvar x = (x1 - x2) / 2\n\t\tvar y = (y1 - y2) / 2\n\t\tvar h = (x * x) / (rx * rx) + (y * y) / (ry * ry)\n\t\tif (h > 1) {\n\t\t\th = Math.sqrt(h)\n\t\t\trx = h * rx\n\t\t\try = h * ry\n\t\t}\n\t\tvar rx2 = rx * rx\n\t\tvar ry2 = ry * ry\n\t\tvar k = (large_arc_flag == sweep_flag ? -1 : 1)\n\t\t\t* Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)))\n\t\tif (k == Infinity) k = 1 // neutralize\n\t\tvar cx = k * rx * y / ry + (x1 + x2) / 2\n\t\tvar cy = k * -ry * x / rx + (y1 + y2) / 2\n\t\tvar f1 = Math.asin(((y1 - cy) / ry).toFixed(9))\n\t\tvar f2 = Math.asin(((y2 - cy) / ry).toFixed(9))\n\n\t\tf1 = x1 < cx ? Ï€ - f1 : f1\n\t\tf2 = x2 < cx ? Ï€ - f2 : f2\n\t\tif (f1 < 0) f1 = Ï€ * 2 + f1\n\t\tif (f2 < 0) f2 = Ï€ * 2 + f2\n\t\tif (sweep_flag && f1 > f2) f1 = f1 - Ï€ * 2\n\t\tif (!sweep_flag && f2 > f1) f2 = f2 - Ï€ * 2\n\t} else {\n\t\tf1 = recursive[0]\n\t\tf2 = recursive[1]\n\t\tcx = recursive[2]\n\t\tcy = recursive[3]\n\t}\n\t// greater than 120 degrees requires multiple segments\n\tif (Math.abs(f2 - f1) > _120) {\n\t\tvar f2old = f2\n\t\tvar x2old = x2\n\t\tvar y2old = y2\n\t\tf2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1)\n\t\tx2 = cx + rx * Math.cos(f2)\n\t\ty2 = cy + ry * Math.sin(f2)\n\t\tvar res = arc(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy])\n\t}\n\tvar t = Math.tan((f2 - f1) / 4)\n\tvar hx = 4 / 3 * rx * t\n\tvar hy = 4 / 3 * ry * t\n\tvar curve = [\n\t\t2 * x1 - (x1 + hx * Math.sin(f1)),\n\t\t2 * y1 - (y1 - hy * Math.cos(f1)),\n\t\tx2 + hx * Math.sin(f2),\n\t\ty2 - hy * Math.cos(f2),\n\t\tx2,\n\t\ty2\n\t]\n\tif (recursive) return curve\n\tif (res) curve = curve.concat(res)\n\tfor (var i = 0; i < curve.length;) {\n\t\tvar rot = rotate(curve[i], curve[i+1], angle)\n\t\tcurve[i++] = rot.x\n\t\tcurve[i++] = rot.y\n\t}\n\treturn curve\n}\n\nfunction rotate(x, y, rad){\n\treturn {\n\t\tx: x * Math.cos(rad) - y * Math.sin(rad),\n\t\ty: x * Math.sin(rad) + y * Math.cos(rad)\n\t}\n}\n\nfunction radians(degress){\n\treturn degress * (Ï€ / 180)\n}\n","\nmodule.exports = parse\n\n/**\n * expected argument lengths\n * @type {Object}\n */\n\nvar length = {a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0}\n\n/**\n * segment pattern\n * @type {RegExp}\n */\n\nvar segment = /([astvzqmhlc])([^astvzqmhlc]*)/ig\n\n/**\n * parse an svg path data string. Generates an Array\n * of commands where each command is an Array of the\n * form `[command, arg1, arg2, ...]`\n *\n * @param {String} path\n * @return {Array}\n */\n\nfunction parse(path) {\n\tvar data = []\n\tpath.replace(segment, function(_, command, args){\n\t\tvar type = command.toLowerCase()\n\t\targs = parseValues(args)\n\n\t\t// overloaded moveTo\n\t\tif (type == 'm' && args.length > 2) {\n\t\t\tdata.push([command].concat(args.splice(0, 2)))\n\t\t\ttype = 'l'\n\t\t\tcommand = command == 'm' ? 'l' : 'L'\n\t\t}\n\n\t\twhile (true) {\n\t\t\tif (args.length == length[type]) {\n\t\t\t\targs.unshift(command)\n\t\t\t\treturn data.push(args)\n\t\t\t}\n\t\t\tif (args.length < length[type]) throw new Error('malformed path data')\n\t\t\tdata.push([command].concat(args.splice(0, length[type])))\n\t\t}\n\t})\n\treturn data\n}\n\nvar number = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig\n\nfunction parseValues(args) {\n\tvar numbers = args.match(number)\n\treturn numbers ? numbers.map(Number) : []\n}\n","'use strict'\r\n\r\nmodule.exports = normalize\r\n\r\nvar arcToCurve = require('svg-arc-to-cubic-bezier')\r\n\r\nfunction normalize(path){\r\n  // init state\r\n  var prev\r\n  var result = []\r\n  var bezierX = 0\r\n  var bezierY = 0\r\n  var startX = 0\r\n  var startY = 0\r\n  var quadX = null\r\n  var quadY = null\r\n  var x = 0\r\n  var y = 0\r\n\r\n  for (var i = 0, len = path.length; i < len; i++) {\r\n    var seg = path[i]\r\n    var command = seg[0]\r\n\r\n    switch (command) {\r\n      case 'M':\r\n        startX = seg[1]\r\n        startY = seg[2]\r\n        break\r\n      case 'A':\r\n        var curves = arcToCurve({\r\n          px: x,\r\n          py: y,\r\n          cx: seg[6],\r\n          cy:  seg[7],\r\n          rx: seg[1],\r\n          ry: seg[2],\r\n          xAxisRotation: seg[3],\r\n          largeArcFlag: seg[4],\r\n          sweepFlag: seg[5]\r\n        })\r\n\r\n        // null-curves\r\n        if (!curves.length) continue\r\n\r\n        for (var j = 0, c; j < curves.length; j++) {\r\n          c = curves[j]\r\n          seg = ['C', c.x1, c.y1, c.x2, c.y2, c.x, c.y]\r\n          if (j < curves.length - 1) result.push(seg)\r\n        }\r\n\r\n        break\r\n      case 'S':\r\n        // default control point\r\n        var cx = x\r\n        var cy = y\r\n        if (prev == 'C' || prev == 'S') {\r\n          cx += cx - bezierX // reflect the previous command's control\r\n          cy += cy - bezierY // point relative to the current point\r\n        }\r\n        seg = ['C', cx, cy, seg[1], seg[2], seg[3], seg[4]]\r\n        break\r\n      case 'T':\r\n        if (prev == 'Q' || prev == 'T') {\r\n          quadX = x * 2 - quadX // as with 'S' reflect previous control point\r\n          quadY = y * 2 - quadY\r\n        } else {\r\n          quadX = x\r\n          quadY = y\r\n        }\r\n        seg = quadratic(x, y, quadX, quadY, seg[1], seg[2])\r\n        break\r\n      case 'Q':\r\n        quadX = seg[1]\r\n        quadY = seg[2]\r\n        seg = quadratic(x, y, seg[1], seg[2], seg[3], seg[4])\r\n        break\r\n      case 'L':\r\n        seg = line(x, y, seg[1], seg[2])\r\n        break\r\n      case 'H':\r\n        seg = line(x, y, seg[1], y)\r\n        break\r\n      case 'V':\r\n        seg = line(x, y, x, seg[1])\r\n        break\r\n      case 'Z':\r\n        seg = line(x, y, startX, startY)\r\n        break\r\n    }\r\n\r\n    // update state\r\n    prev = command\r\n    x = seg[seg.length - 2]\r\n    y = seg[seg.length - 1]\r\n    if (seg.length > 4) {\r\n      bezierX = seg[seg.length - 4]\r\n      bezierY = seg[seg.length - 3]\r\n    } else {\r\n      bezierX = x\r\n      bezierY = y\r\n    }\r\n    result.push(seg)\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nfunction line(x1, y1, x2, y2){\r\n  return ['C', x1, y1, x2, y2, x2, y2]\r\n}\r\n\r\nfunction quadratic(x1, y1, cx, cy, x2, y2){\r\n  return [\r\n    'C',\r\n    x1/3 + (2/3) * cx,\r\n    y1/3 + (2/3) * cy,\r\n    x2/3 + (2/3) * cx,\r\n    y2/3 + (2/3) * cy,\r\n    x2,\r\n    y2\r\n  ]\r\n}\r\n","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar TAU = Math.PI * 2;\n\nvar mapToEllipse = function mapToEllipse(_ref, rx, ry, cosphi, sinphi, centerx, centery) {\n  var x = _ref.x,\n      y = _ref.y;\n\n  x *= rx;\n  y *= ry;\n\n  var xp = cosphi * x - sinphi * y;\n  var yp = sinphi * x + cosphi * y;\n\n  return {\n    x: xp + centerx,\n    y: yp + centery\n  };\n};\n\nvar approxUnitArc = function approxUnitArc(ang1, ang2) {\n  // If 90 degree circular arc, use a constant\n  // as derived from http://spencermortensen.com/articles/bezier-circle\n  var a = ang2 === 1.5707963267948966 ? 0.551915024494 : ang2 === -1.5707963267948966 ? -0.551915024494 : 4 / 3 * Math.tan(ang2 / 4);\n\n  var x1 = Math.cos(ang1);\n  var y1 = Math.sin(ang1);\n  var x2 = Math.cos(ang1 + ang2);\n  var y2 = Math.sin(ang1 + ang2);\n\n  return [{\n    x: x1 - y1 * a,\n    y: y1 + x1 * a\n  }, {\n    x: x2 + y2 * a,\n    y: y2 - x2 * a\n  }, {\n    x: x2,\n    y: y2\n  }];\n};\n\nvar vectorAngle = function vectorAngle(ux, uy, vx, vy) {\n  var sign = ux * vy - uy * vx < 0 ? -1 : 1;\n\n  var dot = ux * vx + uy * vy;\n\n  if (dot > 1) {\n    dot = 1;\n  }\n\n  if (dot < -1) {\n    dot = -1;\n  }\n\n  return sign * Math.acos(dot);\n};\n\nvar getArcCenter = function getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp) {\n  var rxsq = Math.pow(rx, 2);\n  var rysq = Math.pow(ry, 2);\n  var pxpsq = Math.pow(pxp, 2);\n  var pypsq = Math.pow(pyp, 2);\n\n  var radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;\n\n  if (radicant < 0) {\n    radicant = 0;\n  }\n\n  radicant /= rxsq * pypsq + rysq * pxpsq;\n  radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n  var centerxp = radicant * rx / ry * pyp;\n  var centeryp = radicant * -ry / rx * pxp;\n\n  var centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n  var centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n\n  var vx1 = (pxp - centerxp) / rx;\n  var vy1 = (pyp - centeryp) / ry;\n  var vx2 = (-pxp - centerxp) / rx;\n  var vy2 = (-pyp - centeryp) / ry;\n\n  var ang1 = vectorAngle(1, 0, vx1, vy1);\n  var ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n  if (sweepFlag === 0 && ang2 > 0) {\n    ang2 -= TAU;\n  }\n\n  if (sweepFlag === 1 && ang2 < 0) {\n    ang2 += TAU;\n  }\n\n  return [centerx, centery, ang1, ang2];\n};\n\nvar arcToBezier = function arcToBezier(_ref2) {\n  var px = _ref2.px,\n      py = _ref2.py,\n      cx = _ref2.cx,\n      cy = _ref2.cy,\n      rx = _ref2.rx,\n      ry = _ref2.ry,\n      _ref2$xAxisRotation = _ref2.xAxisRotation,\n      xAxisRotation = _ref2$xAxisRotation === undefined ? 0 : _ref2$xAxisRotation,\n      _ref2$largeArcFlag = _ref2.largeArcFlag,\n      largeArcFlag = _ref2$largeArcFlag === undefined ? 0 : _ref2$largeArcFlag,\n      _ref2$sweepFlag = _ref2.sweepFlag,\n      sweepFlag = _ref2$sweepFlag === undefined ? 0 : _ref2$sweepFlag;\n\n  var curves = [];\n\n  if (rx === 0 || ry === 0) {\n    return [];\n  }\n\n  var sinphi = Math.sin(xAxisRotation * TAU / 360);\n  var cosphi = Math.cos(xAxisRotation * TAU / 360);\n\n  var pxp = cosphi * (px - cx) / 2 + sinphi * (py - cy) / 2;\n  var pyp = -sinphi * (px - cx) / 2 + cosphi * (py - cy) / 2;\n\n  if (pxp === 0 && pyp === 0) {\n    return [];\n  }\n\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n\n  var lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n\n  var _getArcCenter = getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp),\n      _getArcCenter2 = _slicedToArray(_getArcCenter, 4),\n      centerx = _getArcCenter2[0],\n      centery = _getArcCenter2[1],\n      ang1 = _getArcCenter2[2],\n      ang2 = _getArcCenter2[3];\n\n  // If 'ang2' == 90.0000000001, then `ratio` will evaluate to\n  // 1.0000000001. This causes `segments` to be greater than one, which is an\n  // unecessary split, and adds extra points to the bezier curve. To alleviate\n  // this issue, we round to 1.0 when the ratio is close to 1.0.\n\n\n  var ratio = Math.abs(ang2) / (TAU / 4);\n  if (Math.abs(1.0 - ratio) < 0.0000001) {\n    ratio = 1.0;\n  }\n\n  var segments = Math.max(Math.ceil(ratio), 1);\n\n  ang2 /= segments;\n\n  for (var i = 0; i < segments; i++) {\n    curves.push(approxUnitArc(ang1, ang2));\n    ang1 += ang2;\n  }\n\n  return curves.map(function (curve) {\n    var _mapToEllipse = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery),\n        x1 = _mapToEllipse.x,\n        y1 = _mapToEllipse.y;\n\n    var _mapToEllipse2 = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery),\n        x2 = _mapToEllipse2.x,\n        y2 = _mapToEllipse2.y;\n\n    var _mapToEllipse3 = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery),\n        x = _mapToEllipse3.x,\n        y = _mapToEllipse3.y;\n\n    return { x1: x1, y1: y1, x2: x2, y2: y2, x: x, y: y };\n  });\n};\n\nexport default arcToBezier;","// I believe this was originally written by Taylor Baldwin (@taylorbaldwin / @rolyatmax)\n// If that is miscredited please open an issue.\n\nvar clone = require('clone');\nvar squaredDistance = require('./vec2').squaredDistance;\n\nmodule.exports.sort = function sort (paths) {\n  paths = clone(paths);\n\n  if (!paths.length) return paths;\n\n  var newPaths = [];\n  newPaths.push(paths[0]);\n\n  paths = paths.slice(1);\n\n  while (paths.length) {\n    var lastPath = newPaths[newPaths.length - 1];\n    var curPt = lastPath[lastPath.length - 1];\n    var result = paths.reduce(function (closest, path, i) {\n      var firstPt = path[0];\n      var lastPt = path[path.length - 1];\n      var distanceToFirst = squaredDistance(curPt, firstPt);\n      var distanceToLast = squaredDistance(curPt, lastPt);\n      if (!closest) {\n        return {\n          idx: i,\n          distance: Math.min(distanceToFirst, distanceToLast),\n          reverse: distanceToLast < distanceToFirst\n        };\n      }\n      if (distanceToFirst < closest.distance) {\n        return {\n          idx: i,\n          distance: distanceToFirst,\n          reverse: false\n        };\n      }\n      if (distanceToLast < closest.distance) {\n        return {\n          idx: i,\n          distance: distanceToLast,\n          reverse: true\n        };\n      }\n      return closest;\n    }, null);\n    var idx = result.idx;\n    var reverse = result.reverse;\n    var closestPath = paths.splice(idx, 1)[0].slice();\n    if (reverse) {\n      closestPath.reverse();\n    }\n    newPaths.push(closestPath);\n  }\n  return newPaths;\n};\n\nmodule.exports.merge = function merge (paths, mergeThrehsold) {\n  mergeThrehsold = mergeThrehsold != null ? mergeThrehsold : 0.05;\n\n  var mergeThrehsoldSq = mergeThrehsold * mergeThrehsold;\n  paths = clone(paths);\n  for (var i = 1; i < paths.length; i++) {\n    var lastPath = paths[i - 1];\n    var curPath = paths[i];\n    if (squaredDistance(curPath[0], lastPath[lastPath.length - 1]) < mergeThrehsoldSq) {\n      paths = mergePaths(paths, i - 1, i);\n      i -= 1; // now that we've merged, var's correct i for the next round\n    }\n  }\n  return paths;\n};\n\nfunction mergePaths (paths, path1Idx, path2Idx) {\n  // this will help us keep things in order when we do the splicing\n  var minIdx = Math.min(path1Idx, path2Idx);\n  var maxIdx = Math.max(path1Idx, path2Idx);\n  paths = paths.slice();\n  var path1 = paths[minIdx];\n  var path2 = paths[maxIdx];\n  var mergedPath = path1.concat(path2.slice(1));\n  paths.splice(maxIdx, 1);\n  paths.splice(minIdx, 1, mergedPath);\n  return paths;\n}\n\n// this is the distance between paths - from the end of path 1 to the start of path 2\n// function getTravelingDistance (paths) {\n//   var total = 0;\n//   var lastPt = paths[0][paths[0].length - 1];\n//   for (var path of paths.slice(1)) {\n//     var squaredDist = squaredDistance(lastPt, path[0]);\n//     total += Math.sqrt(squaredDist);\n//     lastPt = path[path.length - 1];\n//   }\n//   return total;\n// }\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nmodule.exports = lineclip;\n\nlineclip.polyline = lineclip;\nlineclip.polygon = polygonclip;\n\n\n// Cohen-Sutherland line clippign algorithm, adapted to efficiently\n// handle polylines rather than just segments\n\nfunction lineclip(points, bbox, result) {\n\n    var len = points.length,\n        codeA = bitCode(points[0], bbox),\n        part = [],\n        i, a, b, codeB, lastCode;\n\n    if (!result) result = [];\n\n    for (i = 1; i < len; i++) {\n        a = points[i - 1];\n        b = points[i];\n        codeB = lastCode = bitCode(b, bbox);\n\n        while (true) {\n\n            if (!(codeA | codeB)) { // accept\n                part.push(a);\n\n                if (codeB !== lastCode) { // segment went outside\n                    part.push(b);\n\n                    if (i < len - 1) { // start a new line\n                        result.push(part);\n                        part = [];\n                    }\n                } else if (i === len - 1) {\n                    part.push(b);\n                }\n                break;\n\n            } else if (codeA & codeB) { // trivial reject\n                break;\n\n            } else if (codeA) { // a outside, intersect with clip edge\n                a = intersect(a, b, codeA, bbox);\n                codeA = bitCode(a, bbox);\n\n            } else { // b outside\n                b = intersect(a, b, codeB, bbox);\n                codeB = bitCode(b, bbox);\n            }\n        }\n\n        codeA = lastCode;\n    }\n\n    if (part.length) result.push(part);\n\n    return result;\n}\n\n// Sutherland-Hodgeman polygon clipping algorithm\n\nfunction polygonclip(points, bbox) {\n\n    var result, edge, prev, prevInside, i, p, inside;\n\n    // clip against each side of the clip rectangle\n    for (edge = 1; edge <= 8; edge *= 2) {\n        result = [];\n        prev = points[points.length - 1];\n        prevInside = !(bitCode(prev, bbox) & edge);\n\n        for (i = 0; i < points.length; i++) {\n            p = points[i];\n            inside = !(bitCode(p, bbox) & edge);\n\n            // if segment goes through the clip window, add an intersection\n            if (inside !== prevInside) result.push(intersect(prev, p, edge, bbox));\n\n            if (inside) result.push(p); // add a point if it's inside\n\n            prev = p;\n            prevInside = inside;\n        }\n\n        points = result;\n\n        if (!points.length) break;\n    }\n\n    return result;\n}\n\n// intersect a segment against one of the 4 lines that make up the bbox\n\nfunction intersect(a, b, edge, bbox) {\n    return edge & 8 ? [a[0] + (b[0] - a[0]) * (bbox[3] - a[1]) / (b[1] - a[1]), bbox[3]] : // top\n           edge & 4 ? [a[0] + (b[0] - a[0]) * (bbox[1] - a[1]) / (b[1] - a[1]), bbox[1]] : // bottom\n           edge & 2 ? [bbox[2], a[1] + (b[1] - a[1]) * (bbox[2] - a[0]) / (b[0] - a[0])] : // right\n           edge & 1 ? [bbox[0], a[1] + (b[1] - a[1]) * (bbox[0] - a[0]) / (b[0] - a[0])] : // left\n           null;\n}\n\n// bit code reflects the point position relative to the bbox:\n\n//         left  mid  right\n//    top  1001  1000  1010\n//    mid  0001  0000  0010\n// bottom  0101  0100  0110\n\nfunction bitCode(p, bbox) {\n    var code = 0;\n\n    if (p[0] < bbox[0]) code |= 1; // left\n    else if (p[0] > bbox[2]) code |= 2; // right\n\n    if (p[1] < bbox[1]) code |= 4; // bottom\n    else if (p[1] > bbox[3]) code |= 8; // top\n\n    return code;\n}\n","var isArray = require('an-array')\nvar almost = require('almost-equal')\n\n//determines whether two arrays are almost equal\nmodule.exports = function(a, b, absoluteTolerance, relativeTolerance) {\n    //will accept typed arrays\n    if (!a || !b || !isArray(a) || !isArray(b))\n        return false\n    if (a.length !== b.length)\n        return false\n    if (typeof absoluteTolerance !== 'number')\n        absoluteTolerance = almost.FLT_EPSILON\n    if (typeof relativeTolerance !== 'number')\n        relativeTolerance = absoluteTolerance\n\n    return Array.prototype.slice.call(a).every(function(a0, i) {\n        var b0 = b[i]\n        return a0 === b0 || almost(a0, b0, absoluteTolerance, relativeTolerance)\n    })\n}","var str = Object.prototype.toString\n\nmodule.exports = anArray\n\nfunction anArray(arr) {\n  return (\n       arr.BYTES_PER_ELEMENT\n    && str.call(arr.buffer) === '[object ArrayBuffer]'\n    || Array.isArray(arr)\n  )\n}\n","\"use strict\"\n\nvar abs = Math.abs\n  , min = Math.min\n\nfunction almostEqual(a, b, absoluteError, relativeError) {\n  var d = abs(a - b)\n  if(d <= absoluteError) {\n    return true\n  }\n  if(d <= relativeError * min(abs(a), abs(b))) {\n    return true\n  }\n  return a === b\n}\n\nalmostEqual.FLT_EPSILON = 1.19209290e-7\nalmostEqual.DBL_EPSILON = 2.2204460492503131e-16\n\nmodule.exports = almostEqual\n","var almostEqual = require('almost-equal');\n\nmodule.exports = intersectSegmentCircle;\nfunction intersectSegmentCircle (p0, p1, circle, circleRadius, hits) {\n  return intersect(p0[0], p0[1], p1[0], p1[1], circle[0], circle[1], circleRadius, hits);\n}\n\nfunction intersect (x1, y1, x2, y2, cx, cy, radius, hits) {\n  if (hits == null) hits = [];\n  var p1InCircle = pointInCircle(x1, y1, cx, cy, radius);\n  var p2InCircle = pointInCircle(x2, y2, cx, cy, radius);\n\n  if (p1InCircle && p2InCircle) {\n    hits.push([ x1, y1 ]);\n    hits.push([ x2, y2 ]);\n    return true;\n  }\n\n  var h, a, closestPoint, px, py;\n  if (p1InCircle || p2InCircle) {\n    closestPoint = closestPointOnLineFromPoint(x1, y1, x2, y2, cx, cy);\n    px = closestPoint[0];\n    py = closestPoint[1];\n    h = distance(px, py, cx, cy);\n    a = Math.sqrt((radius * radius) - (h * h));\n    var hitA = p1InCircle ? [ x1, y1 ] : [ x2, y2 ];\n    var hitB = p1InCircle ? projectPoint(px, py, x2, y2, a) : projectPoint(px, py, x1, y1, a);\n    if (almostEqual(hitA[0], hitB[0]) && almostEqual(hitA[1], hitB[1])) {\n      // One point in the segment lies on the circle, the other is outside\n      hits.push(hitA);\n      return true;\n    }\n    hits.push(hitA);\n    hits.push(hitB);\n    return true;\n  }\n\n  closestPoint = closestPointOnSegmentFromPoint(x1, y1, x2, y2, cx, cy);\n  px = closestPoint[0];\n  py = closestPoint[1];\n\n  if ((almostEqual(x1, px) && almostEqual(y1, py)) ||\n      (almostEqual(x2, px) && almostEqual(y2, py))) {\n    return false;\n  } else {\n    h = distance(px, py, cx, cy);\n    if (h > radius) {\n      return false;\n    } else if (almostEqual(h, radius)) {\n      hits.push([ px, py ]);\n      return true;\n    } else if (almostEqual(h, 0.0)) {\n      hits.push(projectPoint(cx, cy, x1, y1, radius));\n      hits.push(projectPoint(cx, cy, x2, y2, radius));\n      return true;\n    } else {\n      a = Math.sqrt((radius * radius) - (h * h));\n      hits.push(projectPoint(px, py, x1, y1, a));\n      hits.push(projectPoint(px, py, x2, y2, a));\n      return true;\n    }\n  }\n}\n\nfunction layDistance (x1, y1, x2, y2) {\n  var dx = (x2 - x1);\n  var dy = (y2 - y1);\n  return dx * dx + dy * dy;\n}\n\nfunction pointInCircle (px, py, cx, cy, radius) {\n  return layDistance(px, py, cx, cy) <= (radius * radius);\n}\n\nfunction distance (x1, y1, x2, y2) {\n  var dx = (x1 - x2);\n  var dy = (y1 - y2);\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nfunction projectPoint (srcx, srcy, destx, desty, dist) {\n  var t = dist / distance(srcx, srcy, destx, desty);\n  return [\n    srcx + t * (destx - srcx),\n    srcy + t * (desty - srcy)\n  ];\n}\n\nfunction closestPointOnLineFromPoint (x1, y1, x2, y2, px, py) {\n  var vx = x2 - x1;\n  var vy = y2 - y1;\n  var wx = px - x1;\n  var wy = py - y1;\n  var c1 = vx * wx + vy * wy;\n  var c2 = vx * vx + vy * vy;\n  var ratio = c1 / c2;\n  return [\n    x1 + ratio * vx,\n    y1 + ratio * vy\n  ];\n}\n\nfunction closestPointOnSegmentFromPoint (x1, y1, x2, y2, px, py) {\n  var vx = x2 - x1;\n  var vy = y2 - y1;\n  var wx = px - x1;\n  var wy = py - y1;\n\n  var c1 = vx * wx + vy * wy;\n\n  if (c1 <= 0.0) {\n    return [ x1, y1 ];\n  }\n\n  var c2 = vx * vx + vy * vy;\n  if (c2 <= c1) {\n    return [ x2, y2 ];\n  }\n\n  var ratio = c1 / c2;\n  return [\n    x1 + ratio * vx,\n    y1 + ratio * vy\n  ];\n}\n","var almostEqual = require('almost-equal');\n\nmodule.exports = intersectLineCircle;\nfunction intersectLineCircle (p0, p1, circle, circleRadius, hits) {\n  if (hits == null) hits = [];\n  var a = sqr(p1[0] - p0[0]) + sqr(p1[1] - p0[1]);\n  var b = 2.0 * (\n    (p1[0] - p0[0]) * (p0[0] - circle[0]) +\n    (p1[1] - p0[1]) * (p0[1] - circle[1])\n  );\n\n  var c = sqr(circle[0]) + sqr(circle[1]) + sqr(p0[0]) +\n    sqr(p0[1]) - 2 * (circle[0] * p0[0] + circle[1] * p0[1]) -\n    sqr(circleRadius);\n\n  var det = b * b - 4.0 * a * c;\n  var delta;\n  if (det < 0) {\n    return false;\n  } else if (almostEqual(det, 0.0)) {\n    delta = -b / (2.0 * a);\n    hits.push([\n      p0[0] + delta * (p1[0] - p0[0]),\n      p0[1] + delta * (p1[1] - p0[1])\n    ]);\n    return true;\n  } else if (det > 0.0) {\n    var sqrtDet = Math.sqrt(det);\n    delta = (-b + sqrtDet) / (2.0 * a);\n\n    hits.push([\n      p0[0] + delta * (p1[0] - p0[0]),\n      p0[1] + delta * (p1[1] - p0[1])\n    ]);\n\n    delta = (-b - sqrtDet) / (2.0 * a);\n    hits.push([\n      p0[0] + delta * (p1[0] - p0[0]),\n      p0[1] + delta * (p1[1] - p0[1])\n    ]);\n    return true;\n  }\n  return null;\n}\n\nfunction sqr (a) {\n  return a * a;\n}\n","var cssColor = require('./lib/css-color');\nvar names = require('./lib/css-color-names.json');\nvar rgbLuminance = require('./lib/relative-luminance');\nvar HSLUtil = require('./lib/hsl');\nvar hexToRGBA = require('./lib/hex-to-rgba');\nvar RGBAToHex = require('./lib/rgba-to-hex');\n\nmodule.exports.parse = cssColor.parse;\nmodule.exports.style = cssColor.style;\nmodule.exports.names = names;\n\nmodule.exports.relativeLuminance = function relativeLuminance (color) {\n  var result = module.exports.parse(color);\n  if (!result) return null;\n  return rgbLuminance(result.rgb);\n};\n\n// Extracted from @tmcw / wcag-contrast\n// https://github.com/tmcw/wcag-contrast\nmodule.exports.contrastRatio = function contrastRatio (colorA, colorB) {\n  var a = module.exports.relativeLuminance(colorA);\n  var b = module.exports.relativeLuminance(colorB);\n  if (a == null || b == null) return null;\n  var l1 = Math.max(a, b);\n  var l2 = Math.min(a, b);\n  return (l1 + 0.05) / (l2 + 0.05);\n};\n\nmodule.exports.offsetHSL = function (color, h, s, l) {\n  var result = module.exports.parse(color);\n  if (!result) return null;\n  result.hsla[0] += h || 0;\n  result.hsla[1] = Math.max(0, Math.min(100, result.hsla[1] + (s || 0)));\n  result.hsla[2] = Math.max(0, Math.min(100, result.hsla[2] + (l || 0)));\n  return module.exports.parse({ hsla: result.hsla });\n};\n\nmodule.exports.blend = function (background, foreground, opacity) {\n  var bg = module.exports.parse(background);\n  var fg = module.exports.parse(foreground);\n  if (bg == null || fg == null) return null;\n\n  var c0 = bg.rgba;\n  var c1 = fg.rgba;\n  opacity = typeof opacity === 'number' && isFinite(opacity) ? opacity : 1.0;\n  var alpha = opacity * c1[3];\n  if (alpha >= 1) {\n    // foreground is opaque so no blend required\n    return fg;\n  }\n  for (var i = 0; i < 3; i++) {\n    c1[i] = c1[i] * alpha + c0[i] * (c0[3] * (1 - alpha));\n  }\n  c1[3] = Math.max(0, Math.min(1, alpha + c0[3] * (1 - alpha)));\n  return module.exports.parse(c1); // re-parse to get new metadata\n};\n\n// Exposed but not yet documented\nmodule.exports.hexToRGBA = hexToRGBA;\nmodule.exports.RGBAToHex = RGBAToHex;\nmodule.exports.RGBAToHSLA = HSLUtil.RGBAToHSLA;\nmodule.exports.HSLAToRGBA = HSLUtil.HSLAToRGBA;\n","\nvar names = require('./css-color-names.json');\nvar HSLUtil = require('./hsl');\nvar hexToRGBA = require('./hex-to-rgba');\nvar RGBAToHex = require('./rgba-to-hex');\nvar wrap = require('./wrap');\n\nfunction parseStyle (str) {\n  if (typeof str !== 'string') {\n    throw new TypeError('Color parsing must be performed on a string parameter');\n  }\n\n  str = str.toLowerCase();\n\n  if (str in names) {\n    str = names[str];\n  } else if (str === 'transparent') {\n    str = '#00000000';\n  }\n\n  var rgba, hsla, hex;\n  if (/^#[a-f0-9]+$/.test(str)) {\n    rgba = hexToRGBA(str);\n    hex = RGBAToHex(rgba);\n    hsla = HSLUtil.RGBAToHSLA(rgba);\n  } else {\n    var match = /^((?:rgb|hsl)a?)\\s*\\(([^)]*)\\)/.exec(str);\n    if (!match) return null;\n    var type = match[1].replace(/a$/, '');\n    var parts = match[2].replace(/^\\s+|\\s+$/g, '').split(/\\s*,\\s*/).map(function (n, i) {\n      // opaque part\n      if (i <= 2) return Math.round(parseFloat(n) || 0);\n      // alpha part\n      else {\n        n = parseFloat(n);\n        if (typeof n !== 'number' || !isFinite(n)) n = 1;\n        return n;\n      }\n    });\n    // fill in alpha with 1.0 by default\n    if (typeof parts[3] === 'undefined' || !isFinite(parts[3])) {\n      parts[3] = 1;\n    }\n    if (type === 'rgb') {\n      hsla = HSLUtil.RGBAToHSLA(parts);\n      rgba = parts;\n    } else if (type === 'hsl') {\n      rgba = HSLUtil.HSLAToRGBA(parts);\n      parts[0] = wrap(parts[0], 0, 360);\n      hsla = parts;\n    }\n    hex = RGBAToHex(rgba);\n  }\n\n  if (!rgba && !hex && !hsla) return null;\n\n  var ret = {\n    hex: hex,\n    alpha: rgba[3],\n    rgb: rgba.slice(0, 3),\n    rgba: rgba,\n    hsl: hsla.slice(0, 3),\n    hsla: hsla\n  };\n\n  return ret;\n}\n\nmodule.exports.parse = parseColor;\nfunction parseColor (color) {\n  if (typeof color === 'string') {\n    return parseStyle(color);\n  } else if (Array.isArray(color) && color.length >= 3) {\n    var rgbStr = rgbStyle(color[0], color[1], color[2], color[3]);\n    return parseStyle(rgbStr);\n  } else if (color && typeof color === 'object') {\n    var str;\n    if (color.hex) str = color.hex;\n    else if (color.rgba) str = rgbStyle(color.rgba[0], color.rgba[1], color.rgba[2], color.rgba[3]);\n    else if (color.hsla) str = hslStyle(color.hsla[0], color.hsla[1], color.hsla[2], color.hsla[3]);\n    else if (color.rgb) str = rgbStyle(color.rgb[0], color.rgb[1], color.rgb[2]);\n    else if (color.hsl) str = hslStyle(color.hsl[0], color.hsl[1], color.hsl[2]);\n    if (str) return parseStyle(str);\n  }\n  return null;\n}\n\nmodule.exports.style = style;\nfunction style (color) {\n  var result = module.exports.parse(color);\n  if (result) {\n    var rgba = result.rgba;\n    return rgbStyle(rgba[0], rgba[1], rgba[2], rgba[3]);\n  }\n  return null;\n}\n\nfunction rgbStyle (r, g, b, a) {\n  r = Math.max(0, Math.min(255, Math.round(r)));\n  g = Math.max(0, Math.min(255, Math.round(g)));\n  b = Math.max(0, Math.min(255, Math.round(b)));\n  if (a === 1 || !isFinite(a) || typeof a === 'undefined') {\n    return 'rgb(' + [ r, g, b ].join(', ') + ')';\n  } else {\n    a = Math.max(0, Math.min(1, a));\n    return 'rgba(' + [ r, g, b, a ].join(', ') + ')';\n  }\n}\n\nfunction hslStyle (h, s, l, a) {\n  h = wrap(h, 0, 360);\n  h = Math.max(0, Math.min(360, Math.round(h)));\n  s = Math.max(0, Math.min(100, Math.round(s)));\n  l = Math.max(0, Math.min(100, Math.round(l)));\n  if (a === 1 || !isFinite(a) || typeof a === 'undefined') {\n    return 'hsl(' + [ h, s, l ].join(', ') + ')';\n  } else {\n    a = Math.max(0, Math.min(1, a));\n    return 'hsla(' + [ h, s, l, a ].join(', ') + ')';\n  }\n}\n","module.exports = hsl2rgb\nfunction hsl2rgb (hsl) {\n  var h = hsl[0],\n    s = hsl[1],\n    l = hsl[2],\n    t1, t2, t3, rgb, val\n\n  if (s === 0) {\n    val = l\n    return [val, val, val]\n  }\n\n  if (l < 0.5) {\n    t2 = l * (1 + s)\n  } else {\n    t2 = l + s - l * s\n  }\n  t1 = 2 * l - t2\n\n  rgb = [0, 0, 0]\n  for (var i = 0; i < 3; i++) {\n    t3 = h + 1 / 3 * -(i - 1)\n    if (t3 < 0) {\n      t3++\n    }\n    if (t3 > 1) {\n      t3--\n    }\n\n    if (6 * t3 < 1) {\n      val = t1 + (t2 - t1) * 6 * t3\n    } else if (2 * t3 < 1) {\n      val = t2\n    } else if (3 * t3 < 2) {\n      val = t1 + (t2 - t1) * (2 / 3 - t3) * 6\n    } else {\n      val = t1\n    }\n\n    rgb[i] = val\n  }\n\n  return rgb\n}\n","module.exports = rgb2hsl\nfunction rgb2hsl (rgb) {\n  var r = rgb[0],\n    g = rgb[1],\n    b = rgb[2],\n    min = Math.min(r, g, b),\n    max = Math.max(r, g, b),\n    delta = max - min,\n    h, s, l\n\n  if (max === min) {\n    h = 0\n  } else if (r === max) {\n    h = (g - b) / delta\n  } else if (g === max) {\n    h = 2 + (b - r) / delta\n  } else if (b === max) {\n    h = 4 + (r - g) / delta\n  }\n\n  h = Math.min(h * 60, 360)\n\n  if (h < 0) {\n    h += 360\n  }\n\n  l = (min + max) / 2\n\n  if (max === min) {\n    s = 0\n  } else if (l <= 0.5) {\n    s = delta / (max + min)\n  } else {\n    s = delta / (2 - max - min)\n  }\n\n  return [h / 360, s, l]\n}\n","// Extracted from @tmcw / wcag-contrast\n// https://github.com/tmcw/relative-luminance/blob/master/index.js\n\n// # Relative luminance\n// http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n// https://en.wikipedia.org/wiki/Luminance_(relative)\n// https://en.wikipedia.org/wiki/Luminosity_function\n// https://en.wikipedia.org/wiki/Rec._709#Luma_coefficients\n\n// red, green, and blue coefficients\nvar rc = 0.2126;\nvar gc = 0.7152;\nvar bc = 0.0722;\n// low-gamma adjust coefficient\nvar lowc = 1 / 12.92;\n\nfunction adjustGamma (a) {\n  return Math.pow((a + 0.055) / 1.055, 2.4);\n}\n\nmodule.exports = relativeLuminance;\nfunction relativeLuminance (rgb) {\n  var rsrgb = rgb[0] / 255;\n  var gsrgb = rgb[1] / 255;\n  var bsrgb = rgb[2] / 255;\n  var r = rsrgb <= 0.03928 ? rsrgb * lowc : adjustGamma(rsrgb);\n  var g = gsrgb <= 0.03928 ? gsrgb * lowc : adjustGamma(gsrgb);\n  var b = bsrgb <= 0.03928 ? bsrgb * lowc : adjustGamma(bsrgb);\n  return r * rc + g * gc + b * bc;\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Weâ€™re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export {default as path} from \"./path.js\";\n"],"sourceRoot":""}
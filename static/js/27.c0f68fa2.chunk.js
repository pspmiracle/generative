(this.webpackJsonpgenerative=this.webpackJsonpgenerative||[]).push([[27,55,56,57],{117:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return r}));var s=i(37),a=i(2),n=i(3),h=i(258),o=i.n(h),r=function(){function e(t){Object(a.a)(this,e);for(var i=0,n=Object.entries(t);i<n.length;i++){var h=Object(s.a)(n[i],2),r=h[0],c=h[1];this[r]=c}this.color=o.a.pick(["#4b86b4","#adcbe3","#63ace5"]),this.size=this.baseOptions.fieldSize/100,this.speed=this.baseOptions.fieldSize/100*this.initSpeedFactor}return Object(n.a)(e,[{key:"update",value:function(){var e=this,t=this.moveAngle,i=this.game.enemies;this.bX=this.x,this.bY=this.y,this.speed+=-.1,this.speed<=0?(this.draw(!0),this.destroy()):(this.x+=Math.cos(t)*this.speed,this.y+=Math.sin(t)*this.speed),(this.x<-100||this.x>this.baseOptions.width+100||this.y<-100||this.y>this.baseOptions.height+100)&&this.destroy(),i.items.forEach((function(t){t.live&&(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))<t.size&&(t.explode(),e.destroy()))}))}},{key:"draw",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.baseOptions,s=i.context,a=i.backgroundContext,n=this.x,h=this.y;(e=t?a:s).lineWidth=this.size/10;var o=Math.min(this.size*Math.max(this.speed,1),5*this.size);e.beginPath(),e.moveTo(this.x,this.y),e.lineTo(this.x+Math.cos(this.moveAngle-Math.PI)*o,this.y+Math.sin(this.moveAngle-Math.PI)*o),e.stroke(),e.fillStyle=this.color,e.beginPath(),e.arc(n,h,this.size/2,0,2*Math.PI),e.fill(),e.stroke()}},{key:"destroy",value:function(){this.game.bullets.remove(this)}}]),e}()},118:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return c}));var s=i(37),a=i(2),n=i(3),h=i(258),o=i.n(h),r=i(267),c=function(){function e(t){Object(a.a)(this,e);for(var i=0,n=Object.entries(t);i<n.length;i++){var h=Object(s.a)(n[i],2),r=h[0],c=h[1];this[r]=c}this.live=!0,this.sizeFactor=o.a.range(20,30),this.size=this.baseOptions.fieldSize*(1/this.sizeFactor),this.particleSize=this.baseOptions.fieldSize/100,this.speed=this.baseOptions.fieldSize/(10*this.sizeFactor),this.moveAngle=Math.PI/2}return Object(n.a)(e,[{key:"update",value:function(){var e=this.game.ship;if(this.live){this.moveAngle=Math.atan2(e.y-this.y,e.x-this.x),this.x+=Math.cos(this.moveAngle)*this.speed,this.y+=Math.sin(this.moveAngle)*this.speed,Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))<this.size/2+e.size/2&&(e.explode(),this.destroy())}else{var t=0;this.particles.forEach((function(e){return e.x+=Math.cos(e.a)*e.speed,e.y+=Math.sin(e.a)*e.speed,e.speed=Math.max(e.speed-(1-1/e.speed),1),t=Math.max(t,e.speed),e})),t<=1&&(this.draw(!0),this.destroy())}}},{key:"draw",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.baseOptions,s=i.context,a=i.backgroundContext,n=this.x,h=this.y;e=t?a:s,this.live?(e.fillStyle="#ff6f69",e.lineWidth=this.size/30,e.beginPath(),e.arc(n,h,this.size/2,0,2*Math.PI),e.fill(),e.stroke(),a.fillStyle="hsla(0,0%,98%,0.1)",a.beginPath(),a.arc(n,h,this.size/2,0,2*Math.PI),a.fill()):this.particles.forEach((function(t){var i=t.x,s=t.y,a=t.size,n=t.c;e.fillStyle=n,e.beginPath(),e.arc(i,s,a/2,0,2*Math.PI),e.fill()}))}},{key:"explode",value:function(){Object(r.a)(o.a.pick([449.2,492,540]),"sine",.12),this.live=!1,this.particles=[];for(var e=0;e<2*this.sizeFactor;e+=1){var t={x:this.x+o.a.range(-this.size,this.size),y:this.y+o.a.range(-this.size,this.size),speed:o.a.range(5,10),size:this.particleSize*o.a.range(.5,1.5),c:"hsl(0, 100%,".concat(o.a.range(40,60),"%)")};t.a=Math.atan2(t.y-this.y,t.x-this.x),this.particles.push(t)}}},{key:"destroy",value:function(){this.game.enemies.remove(this)}}]),e}()},119:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return l}));var s=i(37),a=i(2),n=i(3),h=i(267),o=i(258),r=i.n(o),c=i(117),l=function(){function e(t){Object(a.a)(this,e);for(var i=0,n=Object.entries(t);i<n.length;i++){var h=Object(s.a)(n[i],2),o=h[0],r=h[1];this[o]=r}this.deadTime=0,this.size=this.baseOptions.fieldSize/50,document.addEventListener("keydown",this.handleKeyPress.bind(this)),document.addEventListener("keyup",this.handleKeyUp.bind(this)),this.baseOptions.canvas.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.baseOptions.canvas.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.cursorX=0,this.cursorY=0,this.moveDirection={up:!1,right:!1,down:!1,left:!1},this.gunAngle=Math.PI}return Object(n.a)(e,[{key:"fire",value:function(){if(!this.game.running)return this.game.ship.deadTime=this.game.time,this.game.running=!0,void Object(h.a)(r.a.pick([100]),"sine",1,.5);if(!this.dead){var e=this.baseOptions,t=this.game;Object(h.a)(r.a.pick([311.1,370,415.3]),"sawtooth",.1,.5),Object(h.a)(r.a.pick([155.6,185,207.7]),"sine",.2,.5);for(var i=0;i<8;i+=1){var s=new c.default({baseOptions:e,game:t,x:this.gunTipCoord[0],y:this.gunTipCoord[1],moveAngle:this.gunAngle+r.a.range(-Math.PI/32,Math.PI/32),initSpeedFactor:r.a.range(.8,1.2)});t.bullets.add(s)}}}},{key:"explode",value:function(){Object(h.a)(87.31,"triangle",.1);var e=this.x,t=this.y,i=this.baseOptions,s=this.game;this.dead=!0,this.deadTime=s.time;for(var a=-Math.PI;a<Math.PI;a+=Math.PI/50){var n=new c.default({baseOptions:i,game:s,x:e,y:t,moveAngle:a,initSpeedFactor:r.a.range(.8,1.2)});s.bullets.add(n)}}},{key:"handleMouseDown",value:function(e){this.fire()}},{key:"handleMouseMove",value:function(e){var t=e.movementX,i=e.movementY;this.cursorX+=t,this.cursorY+=i,this.gunAngle=Math.atan2(this.cursorY,this.cursorX),this.cursorX=200*Math.cos(this.gunAngle),this.cursorY=200*Math.sin(this.gunAngle)}},{key:"handleKeyPress",value:function(e){switch(e.code){case"ArrowUp":case"KeyW":this.moveDirection.up=!0;break;case"ArrowRight":case"KeyD":this.moveDirection.right=!0;break;case"ArrowDown":case"KeyS":this.moveDirection.down=!0;break;case"ArrowLeft":case"KeyA":this.moveDirection.left=!0}}},{key:"handleKeyUp",value:function(e){switch(e.code){case"ArrowUp":case"KeyW":this.moveDirection.up=!1;break;case"ArrowRight":case"KeyD":this.moveDirection.right=!1;break;case"ArrowDown":case"KeyS":this.moveDirection.down=!1;break;case"ArrowLeft":case"KeyA":this.moveDirection.left=!1}}},{key:"update",value:function(){if(this.dead)this.game.time-this.deadTime>1&&(this.dead=!1);else{var e=this.baseOptions.fieldSize/300;this.moveDirection.up&&(this.y+=-e),this.moveDirection.right&&(this.x+=e),this.moveDirection.down&&(this.y+=e),this.moveDirection.left&&(this.x-=e),this.x=Math.max(Math.min(this.baseOptions.width,this.x),0),this.y=Math.max(Math.min(this.baseOptions.height,this.y),0)}}},{key:"draw",value:function(){var e=this.baseOptions.context,t=this.x,i=this.y,s=this.gunAngle;if(!this.dead){e.fillStyle="#96ceb4",e.lineWidth=this.size/10,e.beginPath(),e.arc(t,i,this.size/2,0,2*Math.PI),e.fill(),e.stroke(),e.beginPath();var a=Math.cos(s)*this.size/2,n=Math.sin(s)*this.size/2,h=Math.cos(s)*this.size*1.5,o=Math.sin(s)*this.size*1.5;this.gunTipCoord=[t+h,i+o],e.moveTo(t+a,i+n),e.lineTo(t+h,i+o),e.stroke()}}}]),e}()},267:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=new(window.AudioContext||window.webkitAudioContext);function a(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=s.createOscillator(),h=s.createGain();n.connect(h),n.type=t,h.connect(s.destination),n.frequency.value=e,n.start(),h.gain.value=a,h.gain.exponentialRampToValueAtTime(1e-5,s.currentTime+i),setTimeout((function(){n.stop(),n.disconnect()}),1e3*(i+.5))}},273:function(e,t,i){"use strict";var s=i(2),a=i(3),n=function(){function e(){Object(s.a)(this,e),this.items=[]}return Object(a.a)(e,[{key:"add",value:function(e){this.items.push(e)}},{key:"append",value:function(){this.add.apply(this,arguments)}},{key:"remove",value:function(e){this.items=this.items.filter((function(t){return t!==e}))}},{key:"delete",value:function(){this.remove.apply(this,arguments)}},{key:"clean",value:function(){this.items=[]}},{key:Symbol.iterator,value:function(){return this.items.values()}},{key:"size",get:function(){return this.items.length}}]),e}();t.a=n},56:function(e,t,i){"use strict";i.r(t);var s=i(21),a=i.n(s),n=i(27),h=i(258),o=i.n(h),r=i(273),c=i(119),l=i(118),u=function(e){e.addEventListener("click",(function(){e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}))},d=function(){var e=Object(n.a)(a.a.mark((function e(t){var i,s,n,h,d,f,v,p,m,g,y,b,k,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.canvas,s=t.context,n=t.width,h=t.height,u(i),(d=document.createElement("canvas")).width=n,d.height=h,(f=d.getContext("2d")).fillStyle="hsl(0, 0%, 98%)",f.fillRect(0,0,n,h),(v=document.createElement("canvas")).width=n,v.height=h,(p=v.getContext("2d")).lineWidth=.05,p.strokeStyle="hsla(0, 0%, 50%)",m=.5;m<h;m+=50)p.beginPath(),p.moveTo(0,m),p.lineTo(n,m),p.stroke();for(g=.5;g<n;g+=50)p.beginPath(),p.moveTo(g,0),p.lineTo(g,h),p.stroke();return y=Math.min(n,h),k={context:s,canvas:i,fieldSize:y,width:n,height:h,backgroundContext:f,backGroundCanvas:d},(b={running:!1}).bullets=new r.a,b.enemies=new r.a,b.ship=new c.default({baseOptions:k,game:b,x:n/2,y:h/2}),w=function(){var e=0,t=0;switch(o.a.pick(["top","left","bottom","right"])){case"top":t=-100,e=o.a.range(-100,n+100);break;case"right":e=n+100,t=o.a.range(-100,n+100);break;case"bottom":t=h+100,e=o.a.range(-100,n+100);break;case"left":e=-100,t=o.a.range(-100,n+100)}b.enemies.add(new l.default({baseOptions:k,game:b,x:e,y:t}))},e.abrupt("return",(function(e){var t=e.context,i=e.time;b.time=i,f.drawImage(v,0,0),f.fillStyle="hsla(0, 0%, 98%, 0.01)",f.fillRect(0,0,n,h),t.drawImage(d,0,0),b.running?(b.enemies.size<Math.min(Math.floor((i-b.ship.deadTime)/3)+1,15)&&w(),b.enemies.items.forEach((function(e){e.update(),e.draw()})),b.bullets.items.forEach((function(e){e.update(),e.draw()})),b.ship.update(),b.ship.draw()):(t.save(),t.translate(n/2,h/2),t.rotate(Math.cos(5*i)/5),t.font="bold 90px Arial",t.textAlign="center",t.fillStyle="hsl(0, 0%, 20%)",t.fillText("Click to start",0,0),t.restore())}));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default={sketch:d,settings:{dimensions:[1201,1201],animate:!0}}}}]);
//# sourceMappingURL=27.c0f68fa2.chunk.js.map
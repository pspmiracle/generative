{"version":3,"sources":["../node_modules/defined/index.js","../node_modules/canvas-sketch-util/lib/wrap.js","../node_modules/canvas-sketch-util/math.js","utils/ctx.js","../node_modules/soundcloud-audio/index.js","../node_modules/web-audio-analyser/index.js","../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/min.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/quickselect.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/quantile.js","utils/array.js","sketches/017_wave/index.js","../node_modules/d3-array/src/median.js"],"names":["module","exports","i","arguments","length","undefined","value","from","to","TypeError","t","cycle","Math","floor","defined","require","wrap","EPSILON","Number","clamp","min","max","lerp","inverseLerp","abs","toFinite","n","defaultValue","isFinite","expandVector","dims","p","scalar","out","lerpArray","newArray","initialValue","push","mod","a","b","damp","lambda","dt","exp","fract","sign","degToRad","PI","radToDeg","pingPong","linspace","opts","endpoint","offset","map","_","lerpFrames","values","len","whole","frame","nextFrame","Array","isArray","clamp01","v","smoothstep","x","dampArray","mapRange","inputMin","inputMax","outputMin","outputMax","outVal","expand2D","expand3D","expand4D","setDrawPolygon","context","lineCoords","closePath","beginPath","moveTo","lineTo","drawLine","stroke","anchor","keys","split","_parseURL","url","document","createElement","result","href","key","_appendQueryParam","param","U","chr","test","search","protocol","host","port","pathname","hash","SoundCloud","clientId","apiUrl","this","console","info","_events","_clientId","_baseUrl","playing","duration","audio","prototype","resolve","callback","resolveUrl","encodeURIComponent","_json","data","cleanData","tracks","_transformTrack","bind","_playlist","_track","stream_url","isNaN","_jsonp","target","getElementsByTagName","head","script","id","Date","valueOf","random","window","parentNode","removeChild","src","insertBefore","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","resp","JSON","parse","responseText","err","send","track","original_stream_url","replace","on","e","fn","addEventListener","off","removeEventListener","unbindAll","preload","streamUrl","preloadType","play","options","playlistIndex","_playlistIndex","Error","pause","stop","currentTime","next","tracksLength","loop","previous","seek","percent","offsetX","offsetWidth","layerX","offsetLeft","setVolume","volumePercentage","volume","setTime","seconds","AudioContext","webkitAudioContext","WebAudioAnalyser","ctx","AudioNode","Audio","HTMLAudioElement","createMediaElementSource","createMediaStreamSource","analyser","createAnalyser","stereo","audible","wavedata","freqdata","splitter","merger","source","createChannelSplitter","createChannelMerger","output","connect","destination","waveform","channel","Uint8Array","frequencyBinCount","getByteTimeDomainData","frequencies","getByteFrequencyData","valueof","index","NaN","swap","array","j","numbers","quantile","Float64Array","i0","value0","quickselect","k","left","right","compare","ascending","m","z","log","s","sd","sqrt","newLeft","newRight","subarray","compressArray","freqs","count","chunkSize","subResult","sketch","width","height","canvas","margin","sx","sy","ready","matrixF","scPlayer","SoundCloudAudio","crossOrigin","autoplay","audioAnalyser","render","time","fillStyle","fillRect","save","translate","rotate","cos","font","textAlign","fillText","restore","slice","vol","circles","matrixChunkSize","matrixPart","circleCoords","matrixItemIdx","rF","sin","forEach","circle","idx","strokeStyle","unload","settings","dimensions","animate"],"mappings":"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","file":"static/js/22.5b1ff97a.chunk.js","sourcesContent":["module.exports = function () {\n    for (var i = 0; i < arguments.length; i++) {\n        if (arguments[i] !== undefined) return arguments[i];\n    }\n};\n","module.exports = wrap;\nfunction wrap (value, from, to) {\n  if (typeof from !== 'number' || typeof to !== 'number') {\n    throw new TypeError('Must specify \"to\" and \"from\" arguments as numbers');\n  }\n  // algorithm from http://stackoverflow.com/a/5852628/599884\n  if (from > to) {\n    var t = from;\n    from = to;\n    to = t;\n  }\n  var cycle = to - from;\n  if (cycle === 0) {\n    return to;\n  }\n  return value - cycle * Math.floor((value - from) / cycle);\n}\n","var defined = require('defined');\nvar wrap = require('./lib/wrap');\nvar EPSILON = Number.EPSILON;\n\nfunction clamp (value, min, max) {\n  return min < max\n    ? (value < min ? min : value > max ? max : value)\n    : (value < max ? max : value > min ? min : value);\n}\n\nfunction clamp01 (v) {\n  return clamp(v, 0, 1);\n}\n\nfunction lerp (min, max, t) {\n  return min * (1 - t) + max * t;\n}\n\nfunction inverseLerp (min, max, t) {\n  if (Math.abs(min - max) < EPSILON) return 0;\n  else return (t - min) / (max - min);\n}\n\nfunction smoothstep (min, max, t) {\n  var x = clamp(inverseLerp(min, max, t), 0, 1);\n  return x * x * (3 - 2 * x);\n}\n\nfunction toFinite (n, defaultValue) {\n  defaultValue = defined(defaultValue, 0);\n  return typeof n === 'number' && isFinite(n) ? n : defaultValue;\n}\n\nfunction expandVector (dims) {\n  if (typeof dims !== 'number') throw new TypeError('Expected dims argument');\n  return function (p, defaultValue) {\n    defaultValue = defined(defaultValue, 0);\n    var scalar;\n    if (p == null) {\n      // No vector, create a default one\n      scalar = defaultValue;\n    } else if (typeof p === 'number' && isFinite(p)) {\n      // Expand single channel to multiple vector\n      scalar = p;\n    }\n\n    var out = [];\n    var i;\n    if (scalar == null) {\n      for (i = 0; i < dims; i++) {\n        out[i] = toFinite(p[i], defaultValue);\n      }\n    } else {\n      for (i = 0; i < dims; i++) {\n        out[i] = scalar;\n      }\n    }\n    return out;\n  };\n}\n\nfunction lerpArray (min, max, t, out) {\n  out = out || [];\n  if (min.length !== max.length) {\n    throw new TypeError('min and max array are expected to have the same length');\n  }\n  for (var i = 0; i < min.length; i++) {\n    out[i] = lerp(min[i], max[i], t);\n  }\n  return out;\n}\n\nfunction newArray (n, initialValue) {\n  n = defined(n, 0);\n  if (typeof n !== 'number') throw new TypeError('Expected n argument to be a number');\n  var out = [];\n  for (var i = 0; i < n; i++) out.push(initialValue);\n  return out;\n}\n\nfunction linspace (n, opts) {\n  n = defined(n, 0);\n  if (typeof n !== 'number') throw new TypeError('Expected n argument to be a number');\n  opts = opts || {};\n  if (typeof opts === 'boolean') {\n    opts = { endpoint: true };\n  }\n  var offset = defined(opts.offset, 0);\n  if (opts.endpoint) {\n    return newArray(n).map(function (_, i) {\n      return n <= 1 ? 0 : ((i + offset) / (n - 1));\n    });\n  } else {\n    return newArray(n).map(function (_, i) {\n      return (i + offset) / n;\n    });\n  }\n}\n\nfunction lerpFrames (values, t, out) {\n  t = clamp(t, 0, 1);\n\n  var len = values.length - 1;\n  var whole = t * len;\n  var frame = Math.floor(whole);\n  var fract = whole - frame;\n\n  var nextFrame = Math.min(frame + 1, len);\n  var a = values[frame % values.length];\n  var b = values[nextFrame % values.length];\n  if (typeof a === 'number' && typeof b === 'number') {\n    return lerp(a, b, fract);\n  } else if (Array.isArray(a) && Array.isArray(b)) {\n    return lerpArray(a, b, fract, out);\n  } else {\n    throw new TypeError('Mismatch in value type of two array elements: ' + frame + ' and ' + nextFrame);\n  }\n}\n\nfunction mod (a, b) {\n  return ((a % b) + b) % b;\n}\n\nfunction degToRad (n) {\n  return n * Math.PI / 180;\n}\n\nfunction radToDeg (n) {\n  return n * 180 / Math.PI;\n}\n\nfunction fract (n) {\n  return n - Math.floor(n);\n}\n\nfunction sign (n) {\n  if (n > 0) return 1;\n  else if (n < 0) return -1;\n  else return 0;\n}\n\n// Specific function from Unity / ofMath, not sure its needed?\n// function lerpWrap (a, b, t, min, max) {\n//   return wrap(a + wrap(b - a, min, max) * t, min, max)\n// }\n\nfunction pingPong (t, length) {\n  t = mod(t, length * 2);\n  return length - Math.abs(t - length);\n}\n\nfunction damp (a, b, lambda, dt) {\n  return lerp(a, b, 1 - Math.exp(-lambda * dt));\n}\n\nfunction dampArray (a, b, lambda, dt, out) {\n  out = out || [];\n  for (var i = 0; i < a.length; i++) {\n    out[i] = damp(a[i], b[i], lambda, dt);\n  }\n  return out;\n}\n\nfunction mapRange (value, inputMin, inputMax, outputMin, outputMax, clamp) {\n  // Reference:\n  // https://openframeworks.cc/documentation/math/ofMath/\n  if (Math.abs(inputMin - inputMax) < EPSILON) {\n    return outputMin;\n  } else {\n    var outVal = ((value - inputMin) / (inputMax - inputMin) * (outputMax - outputMin) + outputMin);\n    if (clamp) {\n      if (outputMax < outputMin) {\n        if (outVal < outputMax) outVal = outputMax;\n        else if (outVal > outputMin) outVal = outputMin;\n      } else {\n        if (outVal > outputMax) outVal = outputMax;\n        else if (outVal < outputMin) outVal = outputMin;\n      }\n    }\n    return outVal;\n  }\n}\n\nmodule.exports = {\n  mod: mod,\n  fract: fract,\n  sign: sign,\n  degToRad: degToRad,\n  radToDeg: radToDeg,\n  wrap: wrap,\n  pingPong: pingPong,\n  linspace: linspace,\n  lerp: lerp,\n  lerpArray: lerpArray,\n  inverseLerp: inverseLerp,\n  lerpFrames: lerpFrames,\n  clamp: clamp,\n  clamp01: clamp01,\n  smoothstep: smoothstep,\n  damp: damp,\n  dampArray: dampArray,\n  mapRange: mapRange,\n  expand2D: expandVector(2),\n  expand3D: expandVector(3),\n  expand4D: expandVector(4)\n};\n","export function setDrawPolygon(context, lineCoords, closePath = false) {\n  context.beginPath();\n  for (let i = 0; i < lineCoords.length; i += 1) {\n    const p = lineCoords[i];\n    if (i === 0) {\n      context.moveTo(p[0], p[1]);\n    } else {\n      context.lineTo(p[0], p[1]);\n    }\n  }\n  if (closePath) {\n    context.closePath();\n  }\n}\n\nexport const drawLine = (context, lineCoords, closePath = false) => {\n  setDrawPolygon(context, lineCoords, closePath);\n  context.stroke();\n};\n\nexport function setPixel(imgData, x, y, cR, cG, cB, cA = 255) {\n  const n = (~~x + ~~y * imgData.width) * 4;\n\n  imgData.data[n] = ~~cR;\n  imgData.data[n + 1] = ~~cG;\n  imgData.data[n + 2] = ~~cB;\n  imgData.data[n + 3] = ~~cA;\n}\n\nconst resultGetPixelArray = [0, 0, 0, 0];\nexport function getPixel(imgData, x, y, colorNumber) {\n  const n = (~~x + ~~y * imgData.width) * 4;\n\n  if (colorNumber !== undefined) {\n    return imgData.data[n + colorNumber];\n  }\n\n  for (let i = 0; i < 4; i += 1) {\n    resultGetPixelArray[i] = n + i;\n  }\n  return resultGetPixelArray;\n}\n","'use strict';\n\nvar SOUNDCLOUD_API_URL = 'https://api.soundcloud.com';\n\nvar anchor;\nvar keys = 'protocol hostname host pathname port search hash href'.split(' ');\nfunction _parseURL(url) {\n  if (!anchor) {\n    anchor = document.createElement('a');\n  }\n\n  var result = {};\n\n  anchor.href = url || '';\n\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    result[key] = anchor[key];\n  }\n\n  return result;\n}\n\nfunction _appendQueryParam(url, param, value) {\n  var U = _parseURL(url);\n  var regex = /\\?(?:.*)$/;\n  var chr = regex.test(U.search) ? '&' : '?';\n  var result =\n    U.protocol +\n    '//' +\n    U.host +\n    U.port +\n    U.pathname +\n    U.search +\n    chr +\n    param +\n    '=' +\n    value +\n    U.hash;\n\n  return result;\n}\n\nfunction SoundCloud(clientId, apiUrl) {\n  if (!(this instanceof SoundCloud)) {\n    return new SoundCloud(clientId, apiUrl);\n  }\n\n  if (!clientId && !apiUrl) {\n    console.info('SoundCloud API requires clientId or custom apiUrl');\n  }\n\n  this._events = {};\n\n  this._clientId = clientId;\n  this._baseUrl = apiUrl || SOUNDCLOUD_API_URL;\n\n  this.playing = false;\n  this.duration = 0;\n\n  this.audio = document.createElement('audio');\n}\n\nSoundCloud.prototype.resolve = function(url, callback) {\n  var resolveUrl =\n    this._baseUrl + '/resolve.json?url=' + encodeURIComponent(url);\n\n  if (this._clientId) {\n    resolveUrl = _appendQueryParam(resolveUrl, 'client_id', this._clientId);\n  }\n\n  this._json(\n    resolveUrl,\n    function(data) {\n      this.cleanData();\n\n      if (Array.isArray(data)) {\n        data = { tracks: data };\n      }\n\n      if (data.tracks) {\n        data.tracks = data.tracks.map(this._transformTrack.bind(this));\n        this._playlist = data;\n      } else {\n        this._track = this._transformTrack(data);\n\n        // save timings\n        var U = _parseURL(url);\n        this._track.stream_url += U.hash;\n      }\n\n      this.duration =\n        data.duration && !isNaN(data.duration)\n          ? data.duration / 1000 // convert to seconds\n          : 0; // no duration is zero\n\n      callback(data);\n    }.bind(this)\n  );\n};\n\n// deprecated\nSoundCloud.prototype._jsonp = function(url, callback) {\n  var target = document.getElementsByTagName('script')[0] || document.head;\n  var script = document.createElement('script');\n  var id =\n    'jsonp_callback_' + new Date().valueOf() + Math.floor(Math.random() * 1000);\n\n  window[id] = function(data) {\n    if (script.parentNode) {\n      script.parentNode.removeChild(script);\n    }\n    window[id] = function() {};\n    callback(data);\n  };\n\n  script.src = _appendQueryParam(url, 'callback', id);\n  target.parentNode.insertBefore(script, target);\n};\n\nSoundCloud.prototype._json = function(url, callback) {\n  var xhr = new XMLHttpRequest();\n\n  xhr.open('GET', url);\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState === 4) {\n      if (xhr.status === 200) {\n        var resp = {};\n        try {\n          resp = JSON.parse(xhr.responseText);\n        } catch (err) {\n          // fail silently\n        }\n        callback(resp);\n      }\n    }\n  };\n\n  xhr.send(null);\n};\n\nSoundCloud.prototype._transformTrack = function(track) {\n  if (this._baseUrl !== SOUNDCLOUD_API_URL) {\n    track.original_stream_url = track.stream_url;\n    track.stream_url = track.stream_url.replace(\n      SOUNDCLOUD_API_URL,\n      this._baseUrl\n    );\n  }\n\n  return track;\n};\n\nSoundCloud.prototype.on = function(e, fn) {\n  this._events[e] = fn;\n  this.audio.addEventListener(e, fn, false);\n};\n\nSoundCloud.prototype.off = function(e, fn) {\n  this._events[e] = null;\n  this.audio.removeEventListener(e, fn);\n};\n\nSoundCloud.prototype.unbindAll = function() {\n  for (var e in this._events) {\n    var fn = this._events[e];\n    if (fn) {\n      this.off(e, fn);\n    }\n  }\n};\n\nSoundCloud.prototype.preload = function(streamUrl, preloadType) {\n  this._track = { stream_url: streamUrl };\n\n  if (preloadType) {\n    this.audio.preload = preloadType;\n  }\n\n  this.audio.src = this._clientId\n    ? _appendQueryParam(streamUrl, 'client_id', this._clientId)\n    : streamUrl;\n};\n\nSoundCloud.prototype.play = function(options) {\n  options = options || {};\n  var src;\n\n  if (options.streamUrl) {\n    src = options.streamUrl;\n  } else if (this._playlist) {\n    var length = this._playlist.tracks.length;\n\n    if (length) {\n      if (options.playlistIndex === undefined) {\n        this._playlistIndex = this._playlistIndex || 0;\n      } else {\n        this._playlistIndex = options.playlistIndex;\n      }\n\n      // be silent if index is out of range\n      if (this._playlistIndex >= length || this._playlistIndex < 0) {\n        this._playlistIndex = 0;\n        return;\n      }\n\n      src = this._playlist.tracks[this._playlistIndex].stream_url;\n    }\n  } else if (this._track) {\n    src = this._track.stream_url;\n  }\n\n  if (!src) {\n    throw new Error(\n      'There is no tracks to play, use `streamUrl` option or `load` method'\n    );\n  }\n\n  if (this._clientId) {\n    src = _appendQueryParam(src, 'client_id', this._clientId);\n  }\n\n  if (src !== this.audio.src) {\n    this.audio.src = src;\n  }\n\n  this.playing = src;\n\n  return this.audio.play();\n};\n\nSoundCloud.prototype.pause = function() {\n  this.audio.pause();\n  this.playing = false;\n};\n\nSoundCloud.prototype.stop = function() {\n  this.audio.pause();\n  this.audio.currentTime = 0;\n  this.playing = false;\n};\n\nSoundCloud.prototype.next = function(options) {\n  options = options || {};\n  var tracksLength = this._playlist.tracks.length;\n\n  if (this._playlistIndex >= tracksLength - 1) {\n    if (options.loop) {\n      this._playlistIndex = -1;\n    } else {\n      return;\n    }\n  }\n\n  if (this._playlist && tracksLength) {\n    return this.play({ playlistIndex: ++this._playlistIndex });\n  }\n};\n\nSoundCloud.prototype.previous = function() {\n  if (this._playlistIndex <= 0) {\n    return;\n  }\n\n  if (this._playlist && this._playlist.tracks.length) {\n    return this.play({ playlistIndex: --this._playlistIndex });\n  }\n};\n\nSoundCloud.prototype.seek = function(e) {\n  if (!this.audio.readyState) {\n    return false;\n  }\n\n  var percent =\n    e.offsetX / e.target.offsetWidth ||\n    (e.layerX - e.target.offsetLeft) / e.target.offsetWidth;\n\n  this.audio.currentTime = percent * (this.audio.duration || 0);\n};\n\nSoundCloud.prototype.cleanData = function() {\n  this._track = void 0;\n  this._playlist = void 0;\n};\n\nSoundCloud.prototype.setVolume = function(volumePercentage) {\n  if (!this.audio.readyState) {\n    return;\n  }\n\n  this.audio.volume = volumePercentage;\n};\n\nSoundCloud.prototype.setTime = function(seconds) {\n  if (!this.audio.readyState) {\n    return;\n  }\n\n  this.audio.currentTime = seconds;\n};\n\nmodule.exports = SoundCloud;\n","var AudioContext = window.AudioContext || window.webkitAudioContext\n\nmodule.exports = WebAudioAnalyser\n\nfunction WebAudioAnalyser(audio, ctx, opts) {\n  if (!(this instanceof WebAudioAnalyser)) return new WebAudioAnalyser(audio, ctx, opts)\n  if (!(ctx instanceof AudioContext)) (opts = ctx), (ctx = null)\n\n  opts = opts || {}\n  this.ctx = ctx = ctx || new AudioContext\n\n  if (!(audio instanceof AudioNode)) {\n    audio = (audio instanceof Audio || audio instanceof HTMLAudioElement)\n      ? ctx.createMediaElementSource(audio)\n      : ctx.createMediaStreamSource(audio)\n  }\n\n  this.analyser = ctx.createAnalyser()\n  this.stereo   = !!opts.stereo\n  this.audible  = opts.audible !== false\n  this.wavedata = null\n  this.freqdata = null\n  this.splitter = null\n  this.merger   = null\n  this.source   = audio\n\n  if (!this.stereo) {\n    this.output = this.source\n    this.source.connect(this.analyser)\n    if (this.audible)\n      this.analyser.connect(ctx.destination)\n  } else {\n    this.analyser = [this.analyser]\n    this.analyser.push(ctx.createAnalyser())\n\n    this.splitter = ctx.createChannelSplitter(2)\n    this.merger   = ctx.createChannelMerger(2)\n    this.output   = this.merger\n\n    this.source.connect(this.splitter)\n\n    for (var i = 0; i < 2; i++) {\n      this.splitter.connect(this.analyser[i], i, 0)\n      this.analyser[i].connect(this.merger, 0, i)\n    }\n\n    if (this.audible)\n      this.merger.connect(ctx.destination)\n  }\n}\n\nWebAudioAnalyser.prototype.waveform = function(output, channel) {\n  if (!output) output = this.wavedata || (\n    this.wavedata = new Uint8Array((this.analyser[0] || this.analyser).frequencyBinCount)\n  )\n\n  var analyser = this.stereo\n    ? this.analyser[channel || 0]\n    : this.analyser\n\n  analyser.getByteTimeDomainData(output)\n\n  return output\n}\n\nWebAudioAnalyser.prototype.frequencies = function(output, channel) {\n  if (!output) output = this.freqdata || (\n    this.freqdata = new Uint8Array((this.analyser[0] || this.analyser).frequencyBinCount)\n  )\n\n  var analyser = this.stereo\n    ? this.analyser[channel || 0]\n    : this.analyser\n\n  analyser.getByteFrequencyData(output)\n\n  return output\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = array.length - 1, compare = ascending) {\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export function compressArray(freqs, count) {\n  const result = [];\n\n  const chunkSize = Math.floor(freqs.length / count);\n\n  for (let i = 0; i < count; i += 1) {\n    let subResult = 0;\n\n    for (let j = 0; j < chunkSize; j += 1) {\n      subResult += freqs[i * chunkSize + j];\n    }\n    result.push(subResult / chunkSize);\n  }\n\n  return result;\n}\n","import { lerp } from 'canvas-sketch-util/math';\nimport SoundCloudAudio from 'soundcloud-audio';\nimport audioAnalyser from 'web-audio-analyser';\nimport { median } from 'd3-array';\nimport { compressArray } from '@/utils/array';\nimport { drawLine } from '@/utils/ctx';\n\nconst settings = {\n  dimensions: [1024, 1024],\n  animate: true,\n};\n\nconst sketch = async ({ width, height, canvas }) => {\n  const margin = width * 0.1;\n\n  const sx = v => lerp(margin, width - margin, v);\n  const sy = v => lerp(margin, height - margin, v);\n\n  let ready = false;\n  let analyser;\n\n  let matrixF = [];\n\n  const scPlayer = new SoundCloudAudio('b95f61a90da961736c03f659c03cb0cc');\n\n  canvas.addEventListener('click', () => {\n    if (ready) {\n      return;\n    }\n    ready = true;\n    scPlayer.resolve('https://soundcloud.com/lil_peep/spotlight-1', data => {\n      scPlayer.play();\n\n      const audio = scPlayer.audio;\n      audio.crossOrigin = 'Anonymous';\n      audio.autoplay = true;\n      audio.play();\n\n      analyser = audioAnalyser(audio, { stereo: false });\n    });\n  });\n\n  return {\n    render({ context, width, height, time }) {\n      if (!ready) {\n        context.fillStyle = 'hsla(0, 0%, 98%, 1)';\n        context.fillRect(0, 0, width, height);\n\n        context.save();\n        context.translate(width / 2, height / 2);\n        context.rotate(Math.cos(time * 4) / 5);\n        context.font = 'bold 90px Arial';\n        context.textAlign = 'center';\n        context.fillStyle = 'hsl(0, 0%, 20%)';\n        context.fillText('Click to start', 0, 0);\n        context.restore();\n        return;\n      }\n\n      if (!analyser) {\n        context.fillStyle = 'hsla(0, 0%, 98%, 1)';\n        context.fillRect(0, 0, width, height);\n        return;\n      }\n\n      context.fillStyle = 'hsla(0, 0%, 98%, 0.08)';\n      context.fillRect(0, 0, width, height);\n\n      const freqs = analyser.frequencies();\n      matrixF = compressArray(freqs, 1000).slice(50, 650);\n\n      const vol = median(freqs);\n\n      const circles = [];\n      const total = 15;\n      const lP = 0.8 / total;\n      const matrixChunkSize = Math.floor(matrixF.length / total);\n      for (let i = 0; i < total; i += 1) {\n        const matrixPart = matrixF.slice(i * matrixChunkSize, (i + 1) * matrixChunkSize);\n        const circleCoords = [];\n        for (let j = 0; j < Math.PI * 2; j += 0.1) {\n          const matrixItemIdx = Math.floor((j / (Math.PI * 2)) * matrixPart.length);\n\n          const rF = lerp(1 - lP * (i + 1), 1 - lP * i, matrixPart[matrixItemIdx] / (255 / 4));\n\n          circleCoords.push([\n            (rF * Math.cos(j + (time * Math.sqrt(i)) / 2)) / 2 + 0.5, // x\n            (rF * Math.sin(j + (time * Math.sqrt(i)) / 2)) / 2 + 0.5, // y\n          ]);\n        }\n        circles.push(circleCoords);\n      }\n\n      circles.forEach((circle, idx) => {\n        const circleCoords = circle.map(i => [sx(i[0]), sy(i[1])]);\n\n        context.strokeStyle = `hsl(${vol * 2 + idx * 10 + time * 30}, 50%,50%)`;\n\n        drawLine(context, circleCoords, true);\n      });\n    },\n    unload() {\n      scPlayer.stop();\n    },\n  };\n};\n\nexport default {\n  sketch,\n  settings,\n};\n","import quantile from \"./quantile.js\";\n\nexport default function(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n"],"sourceRoot":""}
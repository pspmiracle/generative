(this.webpackJsonpgenerative=this.webpackJsonpgenerative||[]).push([[56],{118:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return c}));var s=i(37),a=i(2),n=i(3),h=i(258),o=i.n(h),r=i(267),c=function(){function t(e){Object(a.a)(this,t);for(var i=0,n=Object.entries(e);i<n.length;i++){var h=Object(s.a)(n[i],2),r=h[0],c=h[1];this[r]=c}this.live=!0,this.sizeFactor=o.a.range(20,30),this.size=this.baseOptions.fieldSize*(1/this.sizeFactor),this.particleSize=this.baseOptions.fieldSize/100,this.speed=this.baseOptions.fieldSize/(10*this.sizeFactor),this.moveAngle=Math.PI/2}return Object(n.a)(t,[{key:"update",value:function(){var t=this.game.ship;if(this.live){this.moveAngle=Math.atan2(t.y-this.y,t.x-this.x),this.x+=Math.cos(this.moveAngle)*this.speed,this.y+=Math.sin(this.moveAngle)*this.speed,Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))<this.size/2+t.size/2&&(t.explode(),this.destroy())}else{var e=0;this.particles.forEach((function(t){return t.x+=Math.cos(t.a)*t.speed,t.y+=Math.sin(t.a)*t.speed,t.speed=Math.max(t.speed-(1-1/t.speed),1),e=Math.max(e,t.speed),t})),e<=1&&(this.draw(!0),this.destroy())}}},{key:"draw",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.baseOptions,s=i.context,a=i.backgroundContext,n=this.x,h=this.y;t=e?a:s,this.live?(t.fillStyle="#ff6f69",t.lineWidth=this.size/30,t.beginPath(),t.arc(n,h,this.size/2,0,2*Math.PI),t.fill(),t.stroke(),a.fillStyle="hsla(0,0%,98%,0.1)",a.beginPath(),a.arc(n,h,this.size/2,0,2*Math.PI),a.fill()):this.particles.forEach((function(e){var i=e.x,s=e.y,a=e.size,n=e.c;t.fillStyle=n,t.beginPath(),t.arc(i,s,a/2,0,2*Math.PI),t.fill()}))}},{key:"explode",value:function(){Object(r.a)(o.a.pick([449.2,492,540]),"sine",.12),this.live=!1,this.particles=[];for(var t=0;t<2*this.sizeFactor;t+=1){var e={x:this.x+o.a.range(-this.size,this.size),y:this.y+o.a.range(-this.size,this.size),speed:o.a.range(5,10),size:this.particleSize*o.a.range(.5,1.5),c:"hsl(0, 100%,".concat(o.a.range(40,60),"%)")};e.a=Math.atan2(e.y-this.y,e.x-this.x),this.particles.push(e)}}},{key:"destroy",value:function(){this.game.enemies.remove(this)}}]),t}()},267:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var s=new(window.AudioContext||window.webkitAudioContext);function a(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=s.createOscillator(),h=s.createGain();n.connect(h),n.type=e,h.connect(s.destination),n.frequency.value=t,n.start(),h.gain.value=a,h.gain.exponentialRampToValueAtTime(1e-5,s.currentTime+i),setTimeout((function(){n.stop(),n.disconnect()}),1e3*(i+.5))}}}]);
//# sourceMappingURL=56.00648583.chunk.js.map